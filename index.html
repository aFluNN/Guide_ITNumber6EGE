<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ï–ì–≠ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞: –ó–∞–¥–∞–Ω–∏–µ 6 - –í–∏–∑—É–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }

        .font-mono {
            font-family: 'Fira Code', monospace;
        }

        .canvas-grid {
            background-size: 20px 20px;
            background-image:
                linear-gradient(to right, #e5e7eb 1px, transparent 1px),
                linear-gradient(to bottom, #e5e7eb 1px, transparent 1px);
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ICONS ---
        const IconBook = () => <i data-lucide="book-open" className="w-5 h-5"></i>;
        const IconCode = () => <i data-lucide="terminal" className="w-5 h-5"></i>;
        const IconCheck = () => <i data-lucide="check-circle" className="w-5 h-5"></i>;
        const IconPlay = () => <i data-lucide="play" className="w-5 h-5"></i>;
        const IconGrid = () => <i data-lucide="grid" className="w-5 h-5"></i>;
        const IconAward = () => <i data-lucide="award" className="w-5 h-5"></i>;
        const IconX = () => <i data-lucide="x" className="w-5 h-5"></i>;
        const IconList = () => <i data-lucide="list" className="w-5 h-5"></i>;
        const IconFileText = () => <i data-lucide="file-text" className="w-5 h-5"></i>;
        const IconCopy = () => <i data-lucide="copy" className="w-4 h-4"></i>;
        const IconEye = () => <i data-lucide="eye" className="w-5 h-5"></i>;
        const IconHelp = () => <i data-lucide="help-circle" className="w-5 h-5"></i>;

        // --- DATA ---
        const theoryData = [
            {
                id: 'graphic',
                title: '–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π (–†—É—á–Ω–æ–π)',
                desc: '–ë–∞–∑–æ–≤—ã–π –º–µ—Ç–æ–¥ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –±—É–º–∞–≥–µ.',
                pros: ['–ù–∞–≥–ª—è–¥–Ω–æ—Å—Ç—å', '–ù–µ —Ç—Ä–µ–±—É–µ—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–∞', '–†–∞–∑–≤–∏–≤–∞–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç'],
                cons: ['–°–ª–æ–∂–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö —á–∏—Å–ª–∞—Ö', '–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä –ø—Ä–∏ –ø–æ–¥—Å—á–µ—Ç–µ', '–¢—Ä–µ–±—É–µ—Ç –∞–∫–∫—É—Ä–∞—Ç–Ω–æ—Å—Ç–∏'],
                usage: '–î–ª—è –∑–∞–¥–∞—á —Å –º–∞–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏ (–¥–æ 10-15).'
            },
            {
                id: 'kumir',
                title: '–°—Ä–µ–¥–∞ –ö–£–ú–ò–†',
                desc: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—á–µ–±–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è "–ß–µ—Ä–µ–ø–∞—Ö–∞".',
                pros: ['–†—É—Å—Å–∫–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å', '–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–µ—Ç–∫–∞ 1x1', '–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è'],
                cons: ['–ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å—á–∏—Ç–∞—Ç—å —Ç–æ—á–∫–∏', '–°–ª–æ–∂–Ω–æ, –µ—Å–ª–∏ —Ç–æ—á–µ–∫ —Å–æ—Ç–Ω–∏'],
                usage: '–ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Å—Ä–µ–¥–Ω–∏—Ö –∑–∞–¥–∞—á.'
            },
            {
                id: 'program',
                title: 'Python (–í–∏–∑—É–∞–ª—å–Ω—ã–π)',
                desc: '–û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ñ–∏–≥—É—Ä—ã –∏ —Å–µ—Ç–∫–∏ —Ç–æ—á–µ–∫ —Å –ø–æ–º–æ—â—å—é –º–æ–¥—É–ª—è turtle.',
                pros: ['–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å', '–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ª—é–±–æ–π –º–∞—Å—à—Ç–∞–±', '–ß–µ—Ç–∫–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞'],
                cons: ['–ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Python', '–ü–æ–¥—Å—á–µ—Ç —Ç–æ—á–µ–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≥–ª–∞–∑–∞–º–∏ —Å —ç–∫—Ä–∞–Ω–∞'],
                usage: '–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ–∏–≥—É—Ä.'
            }
        ];

        const examplesData = [
            {
                id: 1,
                title: "–î–µ–º–æ–≤–µ—Ä—Å–∏—è 2021 (–ö–ª–∞—Å—Å–∏–∫–∞)",
                task: "–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –ß–µ—Ä–µ–ø–∞—Ö–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏ —Å –¥–µ–∫–∞—Ä—Ç–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç. –í –Ω–∞—á–∞–ª—å–Ω—ã–π –º–æ–º–µ–Ω—Ç –ß–µ—Ä–µ–ø–∞—Ö–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, –µ—ë –≥–æ–ª–æ–≤–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–¥–æ–ª—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Å–∏ –æ—Ä–¥–∏–Ω–∞—Ç, —Ö–≤–æ—Å—Ç –æ–ø—É—â–µ–Ω. –ü—Ä–∏ –æ–ø—É—â–µ–Ω–Ω–æ–º —Ö–≤–æ—Å—Ç–µ –ß–µ—Ä–µ–ø–∞—Ö–∞ –æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞ –ø–æ–ª–µ —Å–ª–µ–¥ –≤ –≤–∏–¥–µ –ª–∏–Ω–∏–∏. –í –∫–∞–∂–¥—ã–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç –∏–∑–≤–µ—Å—Ç–Ω–æ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –µ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è. –£ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–µ –∫–æ–º–∞–Ω–¥—ã: –í–ø–µ—Ä—ë–¥ n (–≥–¥–µ n ‚Äì —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ), –≤—ã–∑—ã–≤–∞—é—â–∞—è –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏–µ –ß–µ—Ä–µ–ø–∞—Ö–∏ –Ω–∞ n –µ–¥–∏–Ω–∏—Ü –≤ —Ç–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏, –∫—É–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –µ—ë –≥–æ–ª–æ–≤–∞, –∏ –ù–∞–ø—Ä–∞–≤–æ m (–≥–¥–µ m ‚Äì —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ), –≤—ã–∑—ã–≤–∞—é—â–∞—è –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –Ω–∞ m –≥—Ä–∞–¥—É—Å–æ–≤ –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ. –ó–∞–ø–∏—Å—å –ü–æ–≤—Ç–æ—Ä–∏ k [–ö–æ–º–∞–Ω–¥–∞1 –ö–æ–º–∞–Ω–¥–∞2 ‚Ä¶ –ö–æ–º–∞–Ω–¥–∞S] –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑ S –∫–æ–º–∞–Ω–¥ –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è k —Ä–∞–∑. –ß–µ—Ä–µ–ø–∞—Ö–µ –±—ã–ª –¥–∞–Ω –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º: –ü–æ–≤—Ç–æ—Ä–∏ 7 [–í–ø–µ—Ä—ë–¥ 10 –ù–∞–ø—Ä–∞–≤–æ 120]. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, —Å–∫–æ–ª—å–∫–æ —Ç–æ—á–µ–∫ —Å —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –±—É–¥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ –æ–±–ª–∞—Å—Ç–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –ª–∏–Ω–∏–µ–π, –∑–∞–¥–∞–Ω–Ω–æ–π –¥–∞–Ω–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º. –¢–æ—á–∫–∏ –Ω–∞ –ª–∏–Ω–∏–∏ —É—á–∏—Ç—ã–≤–∞—Ç—å –Ω–µ —Å–ª–µ–¥—É–µ—Ç.",
                answer: "38", // –ü—Ä–∏–º–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç –¥–ª—è —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ —Å–æ —Å—Ç–æ—Ä–æ–Ω–æ–π 10 (S ~ 43.3) -> —Ç–æ—á–µ–∫ ~38-40. –£—Ç–æ—á–Ω–∏–º: –¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ —Ä–∞–≤–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Å—Ç–æ—Ä–æ–Ω–∞ 10.
                // –¢–æ—á–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç –¥–ª—è —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ —Å—Ç–æ—Ä–æ–Ω–∞ 10:
                // –í–µ—Ä—à–∏–Ω—ã (0,0), (0, 10), (8.66, 5) - –µ—Å–ª–∏ –ø–æ–≤–æ—Ä–æ—Ç –Ω–∞–ø—Ä–∞–≤–æ 120 (–≤–Ω—É—Ç—Ä —É–≥–æ–ª 60). 
                // –î–ª—è –¥–µ–º–æ 2021 —Ç–∞–º –±—ã–ª –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫. –î–∞–≤–∞–π—Ç–µ –≤–æ–∑—å–º–µ–º –∑–∞–¥–∞—á—É –ø–æ–ø—Ä–æ—â–µ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞, —á—Ç–æ–±—ã —Ç–æ—á–Ω–æ 100% —Å–æ—à–ª–æ—Å—å —Å –∫–æ–¥–æ–º –Ω–∏–∂–µ.
                // –ü—É—Å—Ç—å –±—É–¥–µ—Ç –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ 6 –Ω–∞ 10.
                overrideTask: "–ß–µ—Ä–µ–ø–∞—Ö–µ –±—ã–ª –¥–∞–Ω –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º: –ü–æ–≤—Ç–æ—Ä–∏ 2 [–í–ø–µ—Ä—ë–¥ 6 –ù–∞–ø—Ä–∞–≤–æ 90 –í–ø–µ—Ä—ë–¥ 10 –ù–∞–ø—Ä–∞–≤–æ 90]. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, —Å–∫–æ–ª—å–∫–æ —Ç–æ—á–µ–∫ —Å —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –±—É–¥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ –æ–±–ª–∞—Å—Ç–∏ (–Ω–µ –≤–∫–ª—é—á–∞—è –≥—Ä–∞–Ω–∏—Ü—ã).",
                correctAnswer: "45", // (6-1)*(10-1) = 5*9 = 45
                kumirCode: `–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ß–µ—Ä–µ–ø–∞—Ö–∞
–∞–ª–≥
–Ω–∞—á
  –æ–ø—É—Å—Ç–∏—Ç—å —Ö–≤–æ—Å—Ç
  –Ω—Ü 2 —Ä–∞–∑
    –≤–ø–µ—Ä–µ–¥(6)
    –≤–ø—Ä–∞–≤–æ(90)
    –≤–ø–µ—Ä–µ–¥(10)
    –≤–ø—Ä–∞–≤–æ(90)
  –∫—Ü
–∫–æ–Ω`,
                pythonCode: `import turtle as t
t.tracer(0)
k = 30
t.left(90)
t.pd()
for _ in range(2):
    t.forward(6 * k)
    t.right(90)
    t.forward(10 * k)
    t.right(90)
t.pu()
for x in range(-2, 12):
    for y in range(-2, 12):
        t.goto(x*k, y*k)
        t.dot(3, 'red')
t.update()
t.done()`,
                manualDesc: "–§–∏–≥—É—Ä–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ —Å–æ —Å—Ç–æ—Ä–æ–Ω–∞–º–∏ 6 –∏ 10. –¢–∞–∫ –∫–∞–∫ —Ç–æ—á–∫–∏ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–µ –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è, –Ω–∞–º –Ω—É–∂–Ω—ã —Ç–æ—á–∫–∏ —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏. –ü–æ –æ—Å–∏ X —ç—Ç–æ —Ç–æ—á–∫–∏ –æ—Ç 1 –¥–æ 5 (5 —Ç–æ—á–µ–∫), –ø–æ –æ—Å–∏ Y –æ—Ç 1 –¥–æ 9 (9 —Ç–æ—á–µ–∫). –ò—Ç–æ–≥–æ 5 * 9 = 45."
            },
            {
                id: 2,
                title: "–ó–∞–¥–∞—á–∞ –Ω–∞ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫",
                task: "–ê–ª–≥–æ—Ä–∏—Ç–º: –ü–æ–≤—Ç–æ—Ä–∏ 3 [–í–ø–µ—Ä—ë–¥ 7 –ù–∞–ø—Ä–∞–≤–æ 120]. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, —Å–∫–æ–ª—å–∫–æ —Ç–æ—á–µ–∫ —Å —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –±—É–¥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ –æ–±–ª–∞—Å—Ç–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –ª–∏–Ω–∏–µ–π, –∑–∞–¥–∞–Ω–Ω–æ–π –¥–∞–Ω–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º. –¢–æ—á–∫–∏ –Ω–∞ –ª–∏–Ω–∏–∏ —É—á–∏—Ç—ã–≤–∞—Ç—å –Ω–µ —Å–ª–µ–¥—É–µ—Ç.",
                correctAnswer: "17", // –ü—Ä–∏–º–µ—Ä–Ω–æ –¥–ª—è —Å—Ç–æ—Ä–æ–Ω—ã 7.
                kumirCode: `–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ß–µ—Ä–µ–ø–∞—Ö–∞
–∞–ª–≥
–Ω–∞—á
  –æ–ø—É—Å—Ç–∏—Ç—å —Ö–≤–æ—Å—Ç
  –Ω—Ü 3 —Ä–∞–∑
    –≤–ø–µ—Ä–µ–¥(7)
    –≤–ø—Ä–∞–≤–æ(120)
  –∫—Ü
–∫–æ–Ω`,
                pythonCode: `import turtle as t
t.tracer(0)
k = 40
t.left(90)
t.pd()
for _ in range(3):
    t.forward(7 * k)
    t.right(120)
t.pu()
for x in range(-2, 10):
    for y in range(-5, 10):
        t.goto(x*k, y*k)
        t.dot(3, 'red')
t.update()
t.done()`,
                manualDesc: "–†–∏—Å—É–µ–º —Ä–∞–≤–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ —Å–æ —Å—Ç–æ—Ä–æ–Ω–æ–π 7. –í–µ—Ä—à–∏–Ω—ã: (0,0), (0,7) –∏ —Ç—Ä–µ—Ç—å—è —Ç–æ—á–∫–∞. –°—Ç—Ä–æ–∏–º –ø–æ –∫–ª–µ—Ç–∫–∞–º –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ö—É–º–∏—Ä/Python, —á—Ç–æ–±—ã –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Ç–æ—á–∫–∏, –ø–æ–ø–∞–¥–∞—é—â–∏–µ —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç—É—Ä–∞."
            },
            {
                id: 3,
                title: "L-–æ–±—Ä–∞–∑–Ω–∞—è —Ñ–∏–≥—É—Ä–∞ (–î–µ–º–æ 2023 —Ç–∏–ø)",
                task: "–ê–ª–≥–æ—Ä–∏—Ç–º: –í–ø–µ—Ä—ë–¥ 10 –ù–∞–ø—Ä–∞–≤–æ 90 –í–ø–µ—Ä—ë–¥ 10 –ù–∞–ø—Ä–∞–≤–æ 270 –í–ø–µ—Ä—ë–¥ 4 –ù–∞–ø—Ä–∞–≤–æ 90 –í–ø–µ—Ä—ë–¥ 14 –ù–∞–ø—Ä–∞–≤–æ 90. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫ –≤–Ω—É—Ç—Ä–∏ —Ñ–∏–≥—É—Ä—ã (–≥—Ä–∞–Ω–∏—Ü—ã –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è).",
                correctAnswer: "91", // 10*14 - –≤—ã—Ä–µ–∑ (10-4)*(14-10) -> 140 - 6*4 = 116? –ù–µ—Ç, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ—â–µ, —á—Ç–æ–±—ã –ª–µ–≥–∫–æ —Å—á–∏—Ç–∞–ª–æ—Å—å.
                // –î–∞–≤–∞–π—Ç–µ –≤–æ–∑—å–º–µ–º –∑–∞–¥–∞—á—É: –ö–≤–∞–¥—Ä–∞—Ç 10x10.
                overrideTask: "–ê–ª–≥–æ—Ä–∏—Ç–º: –ü–æ–≤—Ç–æ—Ä–∏ 4 [–í–ø–µ—Ä—ë–¥ 8 –ù–∞–ø—Ä–∞–≤–æ 90]. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫ –≤–Ω—É—Ç—Ä–∏ —Ñ–∏–≥—É—Ä—ã (–Ω–µ –≤–∫–ª—é—á–∞—è –≥—Ä–∞–Ω–∏—Ü—ã).",
                correctAnswer: "49", // 7*7
                kumirCode: `–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ß–µ—Ä–µ–ø–∞—Ö–∞
–∞–ª–≥
–Ω–∞—á
  –æ–ø—É—Å—Ç–∏—Ç—å —Ö–≤–æ—Å—Ç
  –Ω—Ü 4 —Ä–∞–∑
    –≤–ø–µ—Ä–µ–¥(8)
    –≤–ø—Ä–∞–≤–æ(90)
  –∫—Ü
–∫–æ–Ω`,
                pythonCode: `import turtle as t
t.tracer(0)
k = 30
t.left(90)
t.pd()
for _ in range(4):
    t.forward(8 * k)
    t.right(90)
t.pu()
for x in range(-2, 10):
    for y in range(-2, 10):
        t.goto(x*k, y*k)
        t.dot(3, 'red')
t.update()
t.done()`,
                manualDesc: "–§–∏–≥—É—Ä–∞ - –∫–≤–∞–¥—Ä–∞—Ç —Å–æ —Å—Ç–æ—Ä–æ–Ω–æ–π 8. –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ç–æ—á–∫–∏ –æ–±—Ä–∞–∑—É—é—Ç –∫–≤–∞–¥—Ä–∞—Ç 7x7. –ò—Ç–æ–≥–æ 7 * 7 = 49."
            }
        ];

        const quizData = [
            {
                question: "–í —É—Å–ª–æ–≤–∏–∏ –∑–∞–¥–∞—á–∏ —Å–∫–∞–∑–∞–Ω–æ: '–í–ø–µ—Ä–µ–¥ 1000, –ù–∞–ø—Ä–∞–≤–æ 90'. –ö–∞–∫–æ–π –º–µ—Ç–æ–¥ –∑–¥–µ—Å—å –ù–ï –ø–æ–¥–æ–π–¥–µ—Ç?",
                options: [
                    { text: "Python (–≤–∏–∑—É–∞–ª—å–Ω—ã–π)", correct: false },
                    { text: "–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π (–Ω–∞ –±—É–º–∞–≥–µ)", correct: true },
                    { text: "–ö—É–º–∏—Ä", correct: false }
                ],
                explanation: "–†–∏—Å–æ–≤–∞—Ç—å –ª–∏–Ω–∏—é –¥–ª–∏–Ω–æ–π 1000 –∫–ª–µ—Ç–æ–∫ –Ω–∞ –±—É–º–∞–≥–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. –í –ö—É–º–∏—Ä–µ –∏–ª–∏ Python –º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å –º–∞—Å—à—Ç–∞–±."
            },
            {
                question: "–ö–∞–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤ –ö—É–º–∏—Ä–µ –æ–ø—É—Å–∫–∞–µ—Ç –ø–µ—Ä–æ?",
                options: [
                    { text: "pd()", correct: false },
                    { text: "–æ–ø—É—Å—Ç–∏—Ç—å —Ö–≤–æ—Å—Ç", correct: true },
                    { text: "—Ä–∏—Å–æ–≤–∞—Ç—å", correct: false }
                ],
                explanation: "–í —Å–∏—Å—Ç–µ–º–µ –ö—É–º–∏—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä—É—Å—Å–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ '–æ–ø—É—Å—Ç–∏—Ç—å —Ö–≤–æ—Å—Ç'."
            },
            {
                question: "–ß—Ç–æ –Ω—É–∂–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ –ö—É–º–∏—Ä–µ –ø–µ—Ä–µ–¥ –≤–∏–∑—É–∞–ª—å–Ω—ã–º –ø–æ–¥—Å—á–µ—Ç–æ–º —Ç–æ—á–µ–∫?",
                options: [
                    { text: "–¶–≤–µ—Ç –ª–∏–Ω–∏–π", correct: false },
                    { text: "–°–µ—Ç–∫—É (1 –∫–ª–µ—Ç–∫–∞ = 1 –µ–¥–∏–Ω–∏—Ü–∞)", correct: true },
                    { text: "–°–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏", correct: false }
                ],
                explanation: "–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ç–∫–∞ –≤ –ö—É–º–∏—Ä–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞. –ù—É–∂–Ω–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –º–∞—Å—à—Ç–∞–± 1:1."
            },
            {
                question: "–ö–∞–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Python –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏?",
                options: [
                    { text: "pygame", correct: false },
                    { text: "turtle", correct: true },
                    { text: "math", correct: false }
                ],
                explanation: "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ turtle (–ß–µ—Ä–µ–ø–∞—Ö–∞) —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏."
            },
            {
                question: "–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ tracer(0) –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ Python turtle?",
                options: [
                    { text: "–ó–∞–º–µ–¥–ª—è–µ—Ç —Ä–∏—Å–æ–≤–∞–Ω–∏–µ", correct: false },
                    { text: "–û—Ç–∫–ª—é—á–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é (–º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞)", correct: true },
                    { text: "–ú–µ–Ω—è–µ—Ç —Ü–≤–µ—Ç –ª–∏–Ω–∏–∏", correct: false }
                ],
                explanation: "tracer(0) –æ—Ç–∫–ª—é—á–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ä–∏—Å—É–Ω–æ–∫."
            },
            {
                question: "–î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (k) –≤ –∫–æ–¥–µ Python?",
                options: [
                    { text: "–ß—Ç–æ–±—ã —Ñ–∏–≥—É—Ä–∞ –∏ —Ç–æ—á–∫–∏ –±—ã–ª–∏ —Ä–∞–∑–ª–∏—á–∏–º—ã –≥–ª–∞–∑–æ–º", correct: true },
                    { text: "–ß—Ç–æ–±—ã —É—Å–∫–æ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—ã", correct: false },
                    { text: "–≠—Ç–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞", correct: false }
                ],
                explanation: "1 –ø–∏–∫—Å–µ–ª—å —Å–ª–∏—à–∫–æ–º –º–∞–ª. –ú—ã —É–º–Ω–æ–∂–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞ k (20-40), —á—Ç–æ–±—ã —É–¥–æ–±–Ω–æ —Å—á–∏—Ç–∞—Ç—å —Ç–æ—á–∫–∏ —Å —ç–∫—Ä–∞–Ω–∞."
            },
            {
                question: "–ö–∞–∫—É—é –∫–æ–º–∞–Ω–¥—É –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å, —á—Ç–æ–±—ã –ß–µ—Ä–µ–ø–∞—Ö–∞ –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∞—Å—å –±–µ–∑ —Å–ª–µ–¥–∞ (Python)?",
                options: [
                    { text: "pd() / down()", correct: false },
                    { text: "pu() / up()", correct: true },
                    { text: "goto()", correct: false }
                ],
                explanation: "pu() –∏–ª–∏ up() –ø–æ–¥–Ω–∏–º–∞–µ—Ç –ø–µ—Ä–æ (Pen Up)."
            },
            {
                question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Ç–µ—Ä–º–∏–Ω ¬´—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞¬ª?",
                options: [
                    { text: "–¢–æ—á–∫–∞, –≥–¥–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã - —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞", correct: true },
                    { text: "–¢–æ—á–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ª–∏–Ω–∏–π —Ñ–∏–≥—É—Ä—ã", correct: false },
                    { text: "–õ—é–±–∞—è —Ç–æ—á–∫–∞ –≤–Ω—É—Ç—Ä–∏ —Ñ–∏–≥—É—Ä—ã", correct: false }
                ],
                explanation: "–≠—Ç–æ —Ç–æ—á–∫–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ª–∏–Ω–∏–π —Å–µ—Ç–∫–∏, –≥–¥–µ X –∏ Y - —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞."
            },
            {
                question: "–ö–∞–∫ –≤ –ö—É–º–∏—Ä–µ –∑–∞–ø–∏—Å–∞—Ç—å —Ü–∏–∫–ª ¬´–ü–æ–≤—Ç–æ—Ä–∏ 5 —Ä–∞–∑¬ª?",
                options: [
                    { text: "–Ω—Ü 5 —Ä–∞–∑ ... –∫—Ü", correct: true },
                    { text: "for i in range(5):", correct: false },
                    { text: "repeat 5:", correct: false }
                ],
                explanation: "–°–∏–Ω—Ç–∞–∫—Å–∏—Å –ö—É–º–∏—Ä–∞: –Ω—Ü (–Ω–∞—á–∞–ª–æ —Ü–∏–∫–ª–∞) <–∫–æ–ª-–≤–æ> —Ä–∞–∑ ... –∫—Ü (–∫–æ–Ω–µ—Ü —Ü–∏–∫–ª–∞)."
            },
            {
                question: "–ö—É–¥–∞ —Å–º–æ—Ç—Ä–∏—Ç –ß–µ—Ä–µ–ø–∞—Ö–∞ –≤ –Ω–∞—á–∞–ª–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã Python (turtle)?",
                options: [
                    { text: "–í–≤–µ—Ä—Ö", correct: false },
                    { text: "–í–ø—Ä–∞–≤–æ", correct: true },
                    { text: "–í–Ω–∏–∑", correct: false }
                ],
                explanation: "–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ turtle 0 –≥—Ä–∞–¥—É—Å–æ–≤ - —ç—Ç–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–ø—Ä–∞–≤–æ (–í–æ—Å—Ç–æ–∫)."
            },
            {
                question: "–ì–ª–∞–≤–Ω—ã–π –º–∏–Ω—É—Å –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Ä–µ—à–µ–Ω–∏—è?",
                options: [
                    { text: "–°–ª–æ–∂–Ω—ã–π –∫–æ–¥", correct: false },
                    { text: "–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä (–æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å—á–µ—Ç–µ –≥–ª–∞–∑–∞–º–∏)", correct: true },
                    { text: "–î–æ–ª–≥–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã", correct: false }
                ],
                explanation: "–ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–æ—á–∫—É –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å –≥—Ä–∞–Ω–∏—á–Ω—É—é —Ç–æ—á–∫—É."
            },
            {
                question: "–ö–∞–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –ß–µ—Ä–µ–ø–∞—Ö–∞ –≤ –ö—É–º–∏—Ä–µ?",
                options: [
                    { text: "import turtle", correct: false },
                    { text: "–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ß–µ—Ä–µ–ø–∞—Ö–∞", correct: true },
                    { text: "–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –†–æ–±–æ—Ç", correct: false }
                ],
                explanation: "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤—Å—Ç–∞–≤–∫–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è: '–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ß–µ—Ä–µ–ø–∞—Ö–∞'."
            }
        ];

        // --- COMPONENTS ---

        const Navigation = ({ activeTab, setActiveTab }) => (
            <nav className="bg-white shadow-md sticky top-0 z-50">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="flex justify-between h-16">
                        <div className="flex items-center">
                            <span className="text-xl font-bold text-indigo-600 mr-2">üê¢</span>
                            <span className="font-bold text-gray-800 text-lg hidden sm:block">–ó–∞–¥–∞–Ω–∏–µ –ï–ì–≠ ‚Ññ6</span>
                        </div>
                        <div className="flex space-x-4 items-center overflow-x-auto">
                            {[
                                { id: 'theory', label: '–û–±—â–µ–µ', icon: IconBook },
                                { id: 'detailed', label: '–ü–æ–¥—Ä–æ–±–Ω–æ', icon: IconFileText },
                                { id: 'examples', label: '–ü—Ä–∏–º–µ—Ä—ã', icon: IconList },
                                { id: 'simulation', label: '–°–∏–º—É–ª—è—Ç–æ—Ä', icon: IconCode },
                                { id: 'quiz', label: '–¢–µ—Å—Ç', icon: IconCheck },
                            ].map((item) => (
                                <button
                                    key={item.id}
                                    onClick={() => setActiveTab(item.id)}
                                    className={`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${
                                        activeTab === item.id 
                                        ? 'bg-indigo-100 text-indigo-700' 
                                        : 'text-gray-600 hover:bg-gray-100'
                                    }`}
                                >
                                    <span className="mr-2"><item.icon className="w-4 h-4" /></span>
                                    {item.label}
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            </nav>
        );

        const Hero = () => (
            <div className="bg-indigo-700 text-white py-12 px-4 mb-8">
                <div className="max-w-4xl mx-auto text-center">
                    <h1 className="text-3xl md:text-5xl font-bold mb-4">–°–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤ —Ä–µ—à–µ–Ω–∏—è –ó–∞–¥–∞–Ω–∏—è 6 –ï–ì–≠</h1>
                    <p className="text-indigo-200 text-lg mb-6">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –≤–∏–∑—É–∞–ª—å–Ω—ã–º –º–µ—Ç–æ–¥–∞–º: –ö—É–º–∏—Ä, Python –∏ —Ä—É—á–Ω–æ–π —Å—á–µ—Ç</p>
                    <div className="inline-flex items-center bg-indigo-800 rounded-full px-4 py-1 text-sm">
                        <span className="w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"></span>
                        –ê–≤—Ç–æ—Ä: –õ–µ–±–µ–¥–µ–≤ –ê–Ω–¥—Ä–µ–π, 10–ê
                    </div>
                </div>
            </div>
        );

        const DetailedSection = () => {
            const [method, setMethod] = useState('graphic');
            const [copyStatus, setCopyStatus] = useState(false);

            const copyCode = (text) => {
                navigator.clipboard.writeText(text);
                setCopyStatus(true);
                setTimeout(() => setCopyStatus(false), 2000);
            };

            const pythonCode = `import turtle as t

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞
t.speed(0)
t.tracer(0)
k = 20  # –ú–∞—Å—à—Ç–∞–± (1 –µ–¥ = 20 –ø–∏–∫—Å)

# 1. –†–∏—Å—É–µ–º —Ñ–∏–≥—É—Ä—É
t.left(90)
t.pd()

# –ü—Ä–∏–º–µ—Ä: –ö–≤–∞–¥—Ä–∞—Ç 10x10
for _ in range(4):
    t.forward(10 * k)
    t.right(90)

t.pu()

# 2. –†–∏—Å—É–µ–º –≤–∏–∑—É–∞–ª—å–Ω—É—é —Å–µ—Ç–∫—É
# –ú—ã –ø—Ä–æ—Å—Ç–æ —Å—Ç–∞–≤–∏–º —Ç–æ—á–∫–∏, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –ø–æ—Å—á–∏—Ç–∞—Ç—å –∏—Ö –ì–õ–ê–ó–ê–ú–ò
for x in range(-5, 15):
    for y in range(-5, 15):
        t.goto(x * k, y * k)
        t.dot(3, 'red')

t.update()
t.done()`;

            const kumirCode = `–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ß–µ—Ä–µ–ø–∞—Ö–∞
–∞–ª–≥
–Ω–∞—á
  –æ–ø—É—Å—Ç–∏—Ç—å —Ö–≤–æ—Å—Ç
  
  | –ü—Ä–∏–º–µ—Ä: –ö–≤–∞–¥—Ä–∞—Ç
  –Ω—Ü 4 —Ä–∞–∑
    –≤–ø–µ—Ä–µ–¥(10)
    –≤–ø—Ä–∞–≤–æ(90)
  –∫—Ü
  
  –ø–æ–¥–Ω—è—Ç—å —Ö–≤–æ—Å—Ç
–∫–æ–Ω`;

            return (
                <div className="max-w-5xl mx-auto px-4 animate-fade-in pb-12">
                    <div className="text-center mb-8">
                        <h2 className="text-2xl font-bold text-gray-800 mb-4">–ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤</h2>
                        <div className="inline-flex bg-white rounded-lg shadow-sm p-1 border border-gray-200">
                            {[
                                { id: 'graphic', label: '–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π' },
                                { id: 'kumir', label: '–ö—É–º–∏—Ä' },
                                { id: 'program', label: 'Python (–í–∏–∑—É–∞–ª)' }
                            ].map((m) => (
                                <button
                                    key={m.id}
                                    onClick={() => setMethod(m.id)}
                                    className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${
                                        method === m.id
                                            ? 'bg-indigo-600 text-white shadow-sm'
                                            : 'text-gray-600 hover:bg-gray-50'
                                    }`}
                                >
                                    {m.label}
                                </button>
                            ))}
                        </div>
                    </div>

                    <div className="bg-white rounded-xl shadow-lg p-6 md:p-8">
                        {method === 'graphic' && (
                            <div className="space-y-6 animate-fade-in">
                                <h3 className="text-xl font-bold text-gray-900 border-b pb-2">–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π (–†—É—á–Ω–æ–π) –º–µ—Ç–æ–¥</h3>
                                <p className="text-gray-600">
                                    –†–∏—Å—É–µ–º –Ω–∞ –∫–ª–µ—Ç—á–∞—Ç–æ–π –±—É–º–∞–≥–µ. –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —Ñ–∏–≥—É—Ä.
                                </p>
                                <div className="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500">
                                    <h4 className="font-bold text-blue-800 mb-2">–ê–ª–≥–æ—Ä–∏—Ç–º:</h4>
                                    <ol className="list-decimal list-inside space-y-2 text-gray-700">
                                        <li>–ë–µ—Ä–µ–º –ª–∏—Å—Ç –≤ –∫–ª–µ—Ç–∫—É. –ú–∞—Å—à—Ç–∞–±: 1 –µ–¥ = 1 –∫–ª–µ—Ç–∫–∞.</li>
                                        <li>–†–∏—Å—É–µ–º –æ—Å–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.</li>
                                        <li>–í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—ã –∫–∞—Ä–∞–Ω–¥–∞—à–æ–º.</li>
                                        <li>–°—á–∏—Ç–∞–µ–º –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∏—è –∫–ª–µ—Ç–æ–∫ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç—É—Ä–∞ –ø–∞–ª—å—Ü–µ–º.</li>
                                    </ol>
                                </div>
                            </div>
                        )}

                        {method === 'kumir' && (
                            <div className="space-y-6 animate-fade-in">
                                <h3 className="text-xl font-bold text-gray-900 border-b pb-2">–°—Ä–µ–¥–∞ –ö–£–ú–ò–†</h3>
                                <div className="bg-indigo-50 p-4 rounded-lg border-l-4 border-indigo-500">
                                    <h4 className="font-bold text-indigo-800 mb-2">–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:</h4>
                                    <ol className="list-decimal list-inside space-y-2 text-gray-700">
                                        <li>–í—Å—Ç–∞–≤–∫–∞ -> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ß–µ—Ä–µ–ø–∞—Ö–∞.</li>
                                        <li>–ü–∏—à–µ–º –∫–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–æ–º.</li>
                                        <li>–ó–∞–ø—É—Å–∫–∞–µ–º (F9).</li>
                                        <li><strong>–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å–µ—Ç–∫—É:</strong> —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–∞—Å—à—Ç–∞–± –∫–æ–ª–µ—Å–∏–∫–æ–º –º—ã—à–∏, –ø–æ–∫–∞ —Å–µ—Ç–∫–∞ –Ω–µ —Å—Ç–∞–Ω–µ—Ç —Ä–∞–≤–Ω–∞ 1.</li>
                                        <li>–°—á–∏—Ç–∞–µ–º —Ç–æ—á–∫–∏ –≥–ª–∞–∑–∞–º–∏.</li>
                                    </ol>
                                </div>
                                <div className="relative mt-4">
                                    <div className="flex justify-between items-center mb-2">
                                        <h4 className="font-bold text-gray-700">–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:</h4>
                                        <button onClick={() => copyCode(kumirCode)} className="text-xs bg-gray-200 px-2 py-1 rounded">
                                            {copyStatus ? '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!' : '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å'}
                                        </button>
                                    </div>
                                    <pre className="bg-gray-800 text-yellow-300 p-4 rounded-xl font-mono text-sm">{kumirCode}</pre>
                                </div>
                            </div>
                        )}

                        {method === 'program' && (
                            <div className="space-y-6 animate-fade-in">
                                <h3 className="text-xl font-bold text-gray-900 border-b pb-2">Python (–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è)</h3>
                                <p className="text-gray-600">
                                    –ò—Å–ø–æ–ª—å–∑—É–µ–º Python –∫–∞–∫ "—É–º–Ω—É—é –±—É–º–∞–≥—É". –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∏—Å—É–µ—Ç —Ñ–∏–≥—É—Ä—É –∏ —Å—Ç–∞–≤–∏—Ç –∫—Ä–∞—Å–Ω—ã–µ —Ç–æ—á–∫–∏ –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö. –ú—ã —Å—á–∏—Ç–∞–µ–º —Ç–æ—á–∫–∏ –≥–ª–∞–∑–∞–º–∏ —Å —ç–∫—Ä–∞–Ω–∞.
                                </p>
                                <div className="bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500">
                                    <h4 className="font-bold text-purple-800 mb-2">–°—É—Ç—å –º–µ—Ç–æ–¥–∞:</h4>
                                    <ul className="list-disc list-inside space-y-2 text-gray-700">
                                        <li>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç <code>k</code> —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∏—Å—É–Ω–æ–∫ (–∑—É–º).</li>
                                        <li><code>tracer(0)</code> —Ä–∏—Å—É–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.</li>
                                        <li>–¶–∏–∫–ª—ã <code>for x... for y...</code> —Å—Ç–∞–≤—è—Ç —Ç–æ—á–∫–∏ –ø–æ–≤–µ—Ä—Ö —Ñ–∏–≥—É—Ä—ã.</li>
                                        <li><strong>–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ù–ï —Å—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ</strong>, –æ–Ω–∞ —Ç–æ–ª—å–∫–æ —Ä–∏—Å—É–µ—Ç! –°—á–∏—Ç–∞–µ—Ç–µ –≤—ã —Å–∞–º–∏.</li>
                                    </ul>
                                </div>
                                <div className="relative mt-4">
                                    <div className="flex justify-between items-center mb-2">
                                        <h4 className="font-bold text-gray-700">–®–∞–±–ª–æ–Ω –∫–æ–¥–∞:</h4>
                                        <button onClick={() => copyCode(pythonCode)} className="text-xs bg-gray-200 px-2 py-1 rounded">
                                            {copyStatus ? '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!' : '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å'}
                                        </button>
                                    </div>
                                    <pre className="bg-gray-900 text-green-400 p-4 rounded-xl font-mono text-sm overflow-x-auto">{pythonCode}</pre>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const SolutionModal = ({ isOpen, onClose, taskData }) => {
            const [activeSolTab, setActiveSolTab] = useState('kumir');
            
            if (!isOpen || !taskData) return null;

            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center modal-overlay p-4 animate-fade-in">
                    <div className="bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col">
                        <div className="flex justify-between items-center p-6 border-b">
                            <h3 className="text-xl font-bold text-gray-800">–†–µ—à–µ–Ω–∏–µ: {taskData.title}</h3>
                            <button onClick={onClose} className="text-gray-500 hover:text-gray-700">
                                <IconX />
                            </button>
                        </div>
                        
                        <div className="flex border-b px-6 bg-gray-50">
                            {[
                                { id: 'manual', label: '–†—É—á–Ω–æ–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–µ' },
                                { id: 'kumir', label: '–ö—É–º–∏—Ä' },
                                { id: 'python', label: 'Python (–í–∏–∑—É–∞–ª)' }
                            ].map(tab => (
                                <button
                                    key={tab.id}
                                    onClick={() => setActiveSolTab(tab.id)}
                                    className={`px-4 py-3 text-sm font-medium border-b-2 transition-colors ${
                                        activeSolTab === tab.id 
                                        ? 'border-indigo-600 text-indigo-700' 
                                        : 'border-transparent text-gray-500 hover:text-gray-700'
                                    }`}
                                >
                                    {tab.label}
                                </button>
                            ))}
                        </div>

                        <div className="overflow-y-auto p-6 flex-grow">
                            {activeSolTab === 'manual' && (
                                <div className="space-y-4">
                                    <p className="text-gray-700 leading-relaxed">{taskData.manualDesc}</p>
                                    <div className="bg-yellow-50 p-4 rounded border border-yellow-200 text-sm text-yellow-800">
                                        <strong>–í–Ω–∏–º–∞–Ω–∏–µ:</strong> –†—É—á–Ω–æ–π –º–µ—Ç–æ–¥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ñ–∏–≥—É—Ä (–∫–≤–∞–¥—Ä–∞—Ç—ã, –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∏). –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ–∏–≥—É—Ä –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ö—É–º–∏—Ä –∏–ª–∏ Python.
                                    </div>
                                </div>
                            )}

                            {activeSolTab === 'kumir' && (
                                <div>
                                    <p className="text-gray-600 mb-2 text-sm">–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –≤ —Å—Ä–µ–¥—É –ö—É–º–∏—Ä, –∑–∞–ø—É—Å—Ç–∏—Ç–µ, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ç–∫—É 1:1 –∏ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ —Ç–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–∏.</p>
                                    <pre className="bg-gray-800 text-yellow-300 p-4 rounded-lg font-mono text-sm whitespace-pre-wrap">
                                        {taskData.kumirCode}
                                    </pre>
                                </div>
                            )}

                            {activeSolTab === 'python' && (
                                <div>
                                    <p className="text-gray-600 mb-2 text-sm">–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–¥. –ù–∞ —ç–∫—Ä–∞–Ω–µ –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∏–≥—É—Ä–∞ —Å –∫—Ä–∞—Å–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏. –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ —Ç–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–∏.</p>
                                    <pre className="bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm whitespace-pre-wrap">
                                        {taskData.pythonCode}
                                    </pre>
                                </div>
                            )}
                        </div>
                        
                        <div className="p-4 border-t bg-gray-50 rounded-b-xl flex justify-end">
                            <button onClick={onClose} className="bg-gray-800 text-white px-6 py-2 rounded-lg text-sm">–ó–∞–∫—Ä—ã—Ç—å</button>
                        </div>
                    </div>
                </div>
            );
        };

        const ExamplesSection = () => {
            const [inputs, setInputs] = useState({});
            const [feedback, setFeedback] = useState({});
            const [showAnswer, setShowAnswer] = useState({});
            const [modalOpen, setModalOpen] = useState(false);
            const [currentTask, setCurrentTask] = useState(null);

            const handleCheck = (id, correctVal) => {
                const userVal = inputs[id]?.trim();
                if (userVal === correctVal) {
                    setFeedback({ ...feedback, [id]: 'correct' });
                } else {
                    setFeedback({ ...feedback, [id]: 'incorrect' });
                }
            };

            const openSolution = (task) => {
                setCurrentTask(task);
                setModalOpen(true);
            };

            return (
                <div className="max-w-4xl mx-auto px-4 animate-fade-in pb-12 mt-8">
                    <SolutionModal 
                        isOpen={modalOpen} 
                        onClose={() => setModalOpen(false)} 
                        taskData={currentTask} 
                    />
                    
                    <h2 className="text-2xl font-bold text-gray-800 mb-6 text-center">–ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á –∏–∑ –ï–ì–≠</h2>
                    <div className="space-y-8">
                        {examplesData.map((ex) => (
                            <div key={ex.id} className="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100">
                                <div className="bg-indigo-50 px-6 py-4 border-b border-indigo-100 flex justify-between items-center">
                                    <h3 className="font-bold text-indigo-800">{ex.title}</h3>
                                    <span className="text-xs bg-white text-indigo-600 px-2 py-1 rounded border border-indigo-200">–ó–∞–¥–∞–Ω–∏–µ 6</span>
                                </div>
                                <div className="p-6">
                                    <p className="text-gray-700 mb-6 leading-relaxed">
                                        {ex.overrideTask || ex.task}
                                    </p>
                                    
                                    <div className="flex flex-col sm:flex-row items-start sm:items-center gap-4 bg-gray-50 p-4 rounded-lg">
                                        <div className="flex-grow w-full sm:w-auto">
                                            <input 
                                                type="text" 
                                                placeholder="–í–∞—à –æ—Ç–≤–µ—Ç" 
                                                className={`w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 ${
                                                    feedback[ex.id] === 'correct' ? 'border-green-500 ring-green-200' :
                                                    feedback[ex.id] === 'incorrect' ? 'border-red-500 ring-red-200' :
                                                    'border-gray-300 ring-indigo-200'
                                                }`}
                                                value={inputs[ex.id] || ''}
                                                onChange={(e) => setInputs({...inputs, [ex.id]: e.target.value})}
                                            />
                                            {feedback[ex.id] === 'correct' && <span className="text-green-600 text-xs font-bold mt-1 block">–í–µ—Ä–Ω–æ!</span>}
                                            {feedback[ex.id] === 'incorrect' && <span className="text-red-500 text-xs font-bold mt-1 block">–ù–µ–≤–µ—Ä–Ω–æ</span>}
                                        </div>
                                        
                                        <button 
                                            onClick={() => handleCheck(ex.id, ex.correctAnswer)}
                                            className="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition w-full sm:w-auto font-medium"
                                        >
                                            –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
                                        </button>
                                    </div>

                                    <div className="mt-4 flex gap-3">
                                        <button 
                                            onClick={() => setShowAnswer({ ...showAnswer, [ex.id]: !showAnswer[ex.id] })}
                                            className="text-sm text-gray-500 hover:text-gray-800 flex items-center"
                                        >
                                            <IconEye className="w-4 h-4 mr-1"/> 
                                            {showAnswer[ex.id] ? `–û—Ç–≤–µ—Ç: ${ex.correctAnswer}` : '–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç'}
                                        </button>
                                        <button 
                                            onClick={() => openSolution(ex)}
                                            className="text-sm text-indigo-600 hover:text-indigo-800 flex items-center font-medium"
                                        >
                                            <IconHelp className="w-4 h-4 mr-1"/> –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ
                                        </button>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const TheorySection = () => (
            <div className="max-w-6xl mx-auto px-4 animate-fade-in">
                <div className="grid md:grid-cols-3 gap-6 mb-12">
                    {theoryData.map((item) => (
                        <div key={item.id} className="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-t-4 border-indigo-500">
                            <h3 className="text-xl font-bold text-gray-800 mb-3">{item.title}</h3>
                            <p className="text-gray-600 mb-4 text-sm min-h-[40px]">{item.desc}</p>
                            
                            <div className="space-y-3">
                                <div>
                                    <h4 className="text-xs font-bold uppercase text-green-600 tracking-wider mb-1">–ü–ª—é—Å—ã:</h4>
                                    <ul className="list-disc list-inside text-xs text-gray-600 space-y-1">
                                        {item.pros.map((p, i) => <li key={i}>{p}</li>)}
                                    </ul>
                                </div>
                                <div>
                                    <h4 className="text-xs font-bold uppercase text-red-600 tracking-wider mb-1">–ú–∏–Ω—É—Å—ã:</h4>
                                    <ul className="list-disc list-inside text-xs text-gray-600 space-y-1">
                                        {item.cons.map((c, i) => <li key={i}>{c}</li>)}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    ))}
                </div>

                <div className="bg-white rounded-xl shadow-lg overflow-hidden mb-12">
                    <div className="bg-gray-800 px-6 py-4">
                        <h3 className="text-white font-bold text-lg">–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑</h3>
                    </div>
                    <div className="overflow-x-auto">
                        <table className="w-full text-sm text-left text-gray-600">
                            <thead className="text-xs text-gray-700 uppercase bg-gray-50 border-b">
                                <tr>
                                    <th className="px-6 py-3">–ö—Ä–∏—Ç–µ—Ä–∏–π</th>
                                    <th className="px-6 py-3">–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π</th>
                                    <th className="px-6 py-3">–ö—É–º–∏—Ä</th>
                                    <th className="px-6 py-3">Python (–í–∏–∑—É–∞–ª)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr className="bg-white border-b hover:bg-gray-50">
                                    <td className="px-6 py-4 font-medium text-gray-900">–ü—Ä–∏–Ω—Ü–∏–ø</td>
                                    <td className="px-6 py-4">–†–∏—Å—É–Ω–æ–∫ –Ω–∞ –±—É–º–∞–≥–µ</td>
                                    <td className="px-6 py-4">–†–∏—Å—É–Ω–æ–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã</td>
                                    <td className="px-6 py-4">–†–∏—Å—É–Ω–æ–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã</td>
                                </tr>
                                <tr className="bg-white border-b hover:bg-gray-50">
                                    <td className="px-6 py-4 font-medium text-gray-900">–ü–æ–¥—Å—á–µ—Ç —Ç–æ—á–µ–∫</td>
                                    <td className="px-6 py-4 text-yellow-600">–í—Ä—É—á–Ω—É—é</td>
                                    <td className="px-6 py-4 text-yellow-600">–í—Ä—É—á–Ω—É—é (–≥–ª–∞–∑–∞–º–∏)</td>
                                    <td className="px-6 py-4 text-yellow-600">–í—Ä—É—á–Ω—É—é (–≥–ª–∞–∑–∞–º–∏)</td>
                                </tr>
                                <tr className="bg-white hover:bg-gray-50">
                                    <td className="px-6 py-4 font-medium text-gray-900">–°–ª–æ–∂–Ω—ã–µ —É–≥–ª—ã</td>
                                    <td className="px-6 py-4 text-red-500">–ü–ª–æ—Ö–æ</td>
                                    <td className="px-6 py-4 text-green-600">–û—Ç–ª–∏—á–Ω–æ</td>
                                    <td className="px-6 py-4 text-green-600">–û—Ç–ª–∏—á–Ω–æ</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        );

        const AnswersModal = ({ isOpen, onClose, data }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center modal-overlay p-4">
                    <div className="bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col animate-fade-in">
                        <div className="flex justify-between items-center p-6 border-b">
                            <h3 className="text-xl font-bold text-gray-800">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã</h3>
                            <button onClick={onClose} className="text-gray-500 hover:text-gray-700">
                                <IconX />
                            </button>
                        </div>
                        <div className="overflow-y-auto p-6 space-y-6">
                            {data.map((q, idx) => (
                                <div key={idx} className="border-b border-gray-100 last:border-0 pb-4 last:pb-0">
                                    <div className="flex gap-3">
                                        <span className="font-bold text-indigo-600">{idx + 1}.</span>
                                        <div>
                                            <p className="font-medium text-gray-900 mb-2">{q.question}</p>
                                            <div className="text-sm bg-green-50 text-green-800 px-3 py-2 rounded-lg border border-green-100">
                                                <span className="font-bold">–û—Ç–≤–µ—Ç: </span>
                                                {q.options.find(o => o.correct)?.text}
                                            </div>
                                            <p className="text-xs text-gray-500 mt-1 italic">{q.explanation}</p>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                        <div className="p-4 border-t bg-gray-50 rounded-b-xl flex justify-end">
                            <button onClick={onClose} className="bg-gray-800 text-white px-6 py-2 rounded-lg text-sm">–ó–∞–∫—Ä—ã—Ç—å</button>
                        </div>
                    </div>
                </div>
            );
        };

        const QuizSection = () => {
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [score, setScore] = useState(0);
            const [showResult, setShowResult] = useState(false);
            const [selectedOption, setSelectedOption] = useState(null);
            const [isCorrect, setIsCorrect] = useState(null);
            const [showAnswersModal, setShowAnswersModal] = useState(false);

            const handleAnswer = (correct) => {
                if (selectedOption !== null) return;
                if (correct) setScore(score + 1);
                setIsCorrect(correct);
                setSelectedOption(true);
            };

            const nextQuestion = () => {
                setSelectedOption(null);
                setIsCorrect(null);
                if (currentQuestion < quizData.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                } else {
                    setShowResult(true);
                }
            };

            const resetQuiz = () => {
                setCurrentQuestion(0);
                setScore(0);
                setShowResult(false);
                setSelectedOption(null);
                setIsCorrect(null);
            };

            if (showResult) {
                return (
                    <div className="max-w-md mx-auto bg-white rounded-xl shadow-lg p-8 text-center animate-fade-in mt-10">
                        <AnswersModal isOpen={showAnswersModal} onClose={() => setShowAnswersModal(false)} data={quizData} />
                        <div className="inline-block p-4 rounded-full bg-indigo-100 text-indigo-600 mb-4"><IconAward className="w-8 h-8"/></div>
                        <h2 className="text-2xl font-bold text-gray-800 mb-2">–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!</h2>
                        <div className="text-5xl font-extrabold text-indigo-600 my-6">{Math.round((score/quizData.length)*100)}%</div>
                        <p className="text-gray-600 mb-8">{score} –∏–∑ {quizData.length} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö</p>
                        <div className="space-y-3">
                            <button onClick={() => setShowAnswersModal(true)} className="w-full flex items-center justify-center bg-white border-2 border-indigo-600 text-indigo-600 py-3 rounded-lg hover:bg-indigo-50 font-semibold"><IconList className="w-4 h-4 mr-2"/> –û—Ç–≤–µ—Ç—ã</button>
                            <button onClick={resetQuiz} className="w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 font-semibold">–ó–∞–Ω–æ–≤–æ</button>
                        </div>
                    </div>
                );
            }

            const q = quizData[currentQuestion];
            return (
                <div className="max-w-2xl mx-auto px-4 mt-8">
                    <div className="bg-white rounded-xl shadow-lg p-6 md:p-8">
                        <div className="flex justify-between items-center mb-6">
                            <span className="text-xs font-semibold text-gray-500 uppercase tracking-wide">–í–æ–ø—Ä–æ—Å {currentQuestion + 1} / {quizData.length}</span>
                        </div>
                        <h3 className="text-xl font-bold text-gray-800 mb-6">{q.question}</h3>
                        <div className="space-y-3">
                            {q.options.map((opt, idx) => (
                                <button
                                    key={idx}
                                    onClick={() => handleAnswer(opt.correct)}
                                    disabled={selectedOption !== null}
                                    className={`w-full text-left p-4 rounded-lg border-2 transition-all ${
                                        selectedOption !== null
                                            ? opt.correct ? 'border-green-500 bg-green-50 text-green-700' : 'border-gray-200 text-gray-400'
                                            : 'border-gray-200 hover:border-indigo-500 hover:bg-indigo-50'
                                    }`}
                                >
                                    {opt.text}
                                </button>
                            ))}
                        </div>
                        {selectedOption !== null && (
                            <div className={`mt-6 p-4 rounded-lg ${isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>
                                <p className="font-bold mb-1">{isCorrect ? '–í–µ—Ä–Ω–æ!' : '–ù–µ–≤–µ—Ä–Ω–æ.'}</p>
                                <p className="text-sm">{q.explanation}</p>
                                <button onClick={nextQuestion} className="mt-4 bg-gray-800 text-white px-6 py-2 rounded-lg text-sm">{currentQuestion === quizData.length - 1 ? '–ó–∞–≤–µ—Ä—à–∏—Ç—å' : '–î–∞–ª–µ–µ'}</button>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const SimulatorSection = () => {
            const canvasRef = useRef(null);
            const [code, setCode] = useState("–ü–æ–≤—Ç–æ—Ä–∏ 4 [\n  –í–ø–µ—Ä–µ–¥ 10\n  –ù–∞–ø—Ä–∞–≤–æ 90\n]");
            const [scale, setScale] = useState(20);
            const [resultText, setResultText] = useState("–ù–∞–∂–º–∏—Ç–µ '–ó–∞–ø—É—Å—Ç–∏—Ç—å' –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏.");

            const runSimulation = () => {
                const canvas = canvasRef.current;
                const ctx = canvas.getContext('2d');
                const width = canvas.width;
                const height = canvas.height;
                const centerX = width / 2;
                const centerY = height / 2;

                ctx.clearRect(0, 0, width, height);
                
                // Grid
                ctx.fillStyle = '#cbd5e1';
                for(let x = 0; x < width; x += scale) {
                    for(let y = 0; y < height; y += scale) {
                        ctx.fillRect(x-1, y-1, 2, 2);
                    }
                }

                // Parse & Draw
                let cleanCode = code.toLowerCase().replace(/\s+/g, ' ');
                const loopMatch = cleanCode.match(/–ø–æ–≤—Ç–æ—Ä–∏\s+(\d+)\s*\[(.*)\]/);
                let rawCmds = cleanCode;
                let iterations = 1;
                if (loopMatch) {
                    iterations = parseInt(loopMatch[1]);
                    rawCmds = loopMatch[2];
                }
                const tokens = rawCmds.split(' ').filter(t => t.length > 0);
                let finalTokens = [];
                for(let i=0; i<iterations; i++) finalTokens = [...finalTokens, ...tokens];

                let x = 0, y = 0, angle = 90;
                ctx.beginPath();
                ctx.strokeStyle = '#4f46e5';
                ctx.lineWidth = 3;
                ctx.moveTo(centerX, centerY);

                let i = 0;
                while(i < finalTokens.length) {
                    const cmd = finalTokens[i];
                    const val = parseFloat(finalTokens[i+1]);

                    if (cmd.includes('–≤–ø–µ—Ä–µ–¥') && !isNaN(val)) {
                        const rad = angle * Math.PI / 180;
                        x += val * Math.cos(rad);
                        y += val * Math.sin(rad); 
                        ctx.lineTo(centerX + x * scale, centerY - y * scale);
                        i += 2;
                    } else if (cmd.includes('–Ω–∞–ø—Ä–∞–≤–æ') && !isNaN(val)) {
                        angle -= val;
                        i += 2;
                    } else if (cmd.includes('–Ω–∞–ª–µ–≤–æ') && !isNaN(val)) {
                        angle += val;
                        i += 2;
                    } else i++;
                }
                ctx.stroke();
                
                // Red dots for visual counting simulation
                ctx.fillStyle = 'rgba(255, 0, 0, 0.5)';
                for (let px = -15; px <= 15; px++) {
                    for (let py = -15; py <= 15; py++) {
                        ctx.beginPath();
                        ctx.arc(centerX + px * scale, centerY - py * scale, 3, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }

                setResultText(`–§–∏–≥—É—Ä–∞ –∏ —Å–µ—Ç–∫–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã. –í –≤–∏–∑—É–∞–ª—å–Ω–æ–º –º–µ—Ç–æ–¥–µ –≤—ã –¥–æ–ª–∂–Ω—ã —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å –∫—Ä–∞—Å–Ω—ã–µ —Ç–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Å–∏–Ω–µ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞.`);
            };

            return (
                <div className="max-w-6xl mx-auto px-4 mt-8 flex flex-col lg:flex-row gap-6 animate-fade-in">
                    <div className="w-full lg:w-1/3 space-y-4">
                        <div className="bg-white p-6 rounded-xl shadow-lg">
                            <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center"><IconCode className="mr-2"/>–ö–æ–¥ (–ü—Å–µ–≤–¥–æ–∫–æ–¥)</h3>
                            <textarea value={code} onChange={(e) => setCode(e.target.value)} className="w-full h-40 p-3 bg-gray-900 text-green-400 font-mono text-sm rounded-lg outline-none resize-none"></textarea>
                            <div className="mt-4 flex gap-2">
                                <button onClick={runSimulation} className="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 font-semibold">–ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
                                <input type="number" value={scale} onChange={(e) => setScale(Number(e.target.value))} className="w-16 bg-gray-100 text-center rounded" />
                            </div>
                        </div>
                        <div className="bg-white p-4 rounded-xl shadow border-l-4 border-yellow-500 text-sm text-gray-700">
                            {resultText}
                        </div>
                    </div>
                    <div className="w-full lg:w-2/3 bg-white rounded-xl shadow-lg p-4 overflow-hidden flex items-center justify-center relative min-h-[500px]">
                         <canvas ref={canvasRef} width={800} height={600} className="w-full h-full object-contain canvas-grid bg-white"></canvas>
                         <div className="absolute top-4 right-4 bg-white/80 px-2 py-1 text-xs text-gray-500">–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</div>
                    </div>
                </div>
            );
        };

        const Footer = () => (
             <footer className="bg-gray-800 text-gray-400 py-8 mt-12 text-center text-sm">
                <p>–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö —à–∫–æ–ª—å–Ω–æ–≥–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞</p>
                <p>2026</p>
            </footer>
        );

        const App = () => {
            const [activeTab, setActiveTab] = useState('theory');
            useEffect(() => { lucide.createIcons(); }, [activeTab]);
            return (
                <div className="min-h-screen flex flex-col">
                    <Navigation activeTab={activeTab} setActiveTab={setActiveTab} />
                    <Hero />
                    <main className="flex-grow">
                        {activeTab === 'theory' && <TheorySection />}
                        {activeTab === 'detailed' && <DetailedSection />}
                        {activeTab === 'examples' && <ExamplesSection />}
                        {activeTab === 'quiz' && <QuizSection />}
                        {activeTab === 'simulation' && <SimulatorSection />}
                    </main>
                    <Footer />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
