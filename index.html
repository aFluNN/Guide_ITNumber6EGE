<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ï–ì–≠ –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞: –ó–∞–¥–∞–Ω–∏–µ 6 - –ú–µ—Ç–æ–¥—ã (–ö—É–º–∏—Ä –∏ Python)</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }

        .font-mono {
            font-family: 'Fira Code', monospace;
        }

        .canvas-grid {
            background-size: 20px 20px;
            background-image:
                linear-gradient(to right, #e5e7eb 1px, transparent 1px),
                linear-gradient(to bottom, #e5e7eb 1px, transparent 1px);
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ICONS ---
        const IconBook = () => <i data-lucide="book-open" className="w-5 h-5"></i>;
        const IconCode = () => <i data-lucide="terminal" className="w-5 h-5"></i>;
        const IconCheck = () => <i data-lucide="check-circle" className="w-5 h-5"></i>;
        const IconPlay = () => <i data-lucide="play" className="w-5 h-5"></i>;
        const IconGrid = () => <i data-lucide="grid" className="w-5 h-5"></i>;
        const IconAward = () => <i data-lucide="award" className="w-5 h-5"></i>;
        const IconX = () => <i data-lucide="x" className="w-5 h-5"></i>;
        const IconList = () => <i data-lucide="list" className="w-5 h-5"></i>;
        const IconFileText = () => <i data-lucide="file-text" className="w-5 h-5"></i>;
        const IconCopy = () => <i data-lucide="copy" className="w-4 h-4"></i>;

        // --- DATA ---
        const theoryData = [
            {
                id: 'graphic',
                title: '–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π (–†—É—á–Ω–æ–π)',
                desc: '–ë–∞–∑–æ–≤—ã–π –º–µ—Ç–æ–¥ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –±—É–º–∞–≥–µ.',
                pros: ['–ù–∞–≥–ª—è–¥–Ω–æ—Å—Ç—å', '–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫', '–ù–µ —Ç—Ä–µ–±—É–µ—Ç –ü–û'],
                cons: ['–ù–µ–ø—Ä–∏–º–µ–Ω–∏–º –¥–ª—è –±–æ–ª—å—à–∏—Ö —á–∏—Å–µ–ª', '–°–ª–æ–∂–Ω–æ—Å—Ç—å —Å –Ω–µ–ø—Ä—è–º—ã–º–∏ —É–≥–ª–∞–º–∏', '–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä –ø—Ä–∏ –ø–æ–¥—Å—á–µ—Ç–µ'],
                usage: '–î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á —Å –º–∞–ª—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏ –ø—Ä—è–º—ã–º–∏ —É–≥–ª–∞–º–∏.'
            },
            {
                id: 'kumir',
                title: '–°—Ä–µ–¥–∞ –ö–£–ú–ò–†',
                desc: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—á–µ–±–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è "–ß–µ—Ä–µ–ø–∞—Ö–∞" —Å —Ä—É—Å—Å–∫–∏–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º.',
                pros: ['–†—É—Å—Å–∫–∏–π –ø–æ–Ω—è—Ç–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å', '–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–µ—Ç–∫–∞ –∏ –ª–∏–Ω–µ–π–∫–∞', '–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞'],
                cons: ['–ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–µ—Ç–∫—É (1 –∫–ª–µ—Ç–∫–∞ = 1 –µ–¥)', '–ù–µ—É–¥–æ–±–Ω–æ –ø—Ä–∏ –æ–≥—Ä–æ–º–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö', '–†—É—á–Ω–æ–π –ø–æ–¥—Å—á–µ—Ç —Ç–æ—á–µ–∫'],
                usage: '–ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Å—á–µ—Ç–∞ —Ç–æ—á–µ–∫.'
            },
            {
                id: 'program',
                title: '–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π (Python)',
                desc: '–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –¥–ª—è –ö–ï–ì–≠. –î–µ–ª–∏—Ç—Å—è –Ω–∞ –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π.',
                pros: ['–í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å', '–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å', '–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å (–ø—Ä–∏ –∞–≤—Ç–æ-–ø–æ–¥—Å—á–µ—Ç–µ)'],
                cons: ['–¢—Ä–µ–±—É–µ—Ç –Ω–∞–≤—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è', '–°–∏–Ω—Ç–∞–∫—Å–∏—Å —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º –≤ –ö—É–º–∏—Ä–µ'],
                usage: '–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ —Ä–µ—à–µ–Ω–∏—è.'
            }
        ];

        const quizData = [
            {
                question: "–í —É—Å–ª–æ–≤–∏–∏ –∑–∞–¥–∞—á–∏ —Å–∫–∞–∑–∞–Ω–æ: '–í–ø–µ—Ä–µ–¥ 1000, –ù–∞–ø—Ä–∞–≤–æ 90'. –ö–∞–∫–æ–π –º–µ—Ç–æ–¥ –∑–¥–µ—Å—å –ù–ï –ø–æ–¥–æ–π–¥–µ—Ç?",
                options: [
                    { text: "Python (turtle/–∞–Ω–∞–ª–∏—Ç–∏–∫–∞)", correct: false },
                    { text: "–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π (–Ω–∞ –±—É–º–∞–≥–µ)", correct: true },
                    { text: "–ö—É–º–∏—Ä (–ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–∞—Å—à—Ç–∞–±–µ)", correct: false }
                ],
                explanation: "–†–∏—Å–æ–≤–∞—Ç—å –ª–∏–Ω–∏—é –¥–ª–∏–Ω–æ–π 1000 –∫–ª–µ—Ç–æ–∫ –Ω–∞ –±—É–º–∞–≥–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. –ü—Ä–æ–≥—Ä–∞–º–º—ã —Å–ø—Ä–∞–≤—è—Ç—Å—è –ª—É—á—à–µ."
            },
            {
                question: "–ö–∞–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤ –ö—É–º–∏—Ä–µ –æ–ø—É—Å–∫–∞–µ—Ç –ø–µ—Ä–æ, —á—Ç–æ–±—ã –ß–µ—Ä–µ–ø–∞—Ö–∞ –Ω–∞—á–∞–ª–∞ –æ—Å—Ç–∞–≤–ª—è—Ç—å —Å–ª–µ–¥?",
                options: [
                    { text: "pd()", correct: false },
                    { text: "–æ–ø—É—Å—Ç–∏—Ç—å —Ö–≤–æ—Å—Ç", correct: true },
                    { text: "—Ä–∏—Å–æ–≤–∞—Ç—å", correct: false }
                ],
                explanation: "–í —Å–∏—Å—Ç–µ–º–µ –ö—É–º–∏—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä—É—Å—Å–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ '–æ–ø—É—Å—Ç–∏—Ç—å —Ö–≤–æ—Å—Ç'."
            },
            {
                question: "–ß—Ç–æ –Ω—É–∂–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ –ö—É–º–∏—Ä–µ –ø–µ—Ä–µ–¥ –ø–æ–¥—Å—á–µ—Ç–æ–º —Ç–æ—á–µ–∫?",
                options: [
                    { text: "–¶–≤–µ—Ç –ª–∏–Ω–∏–π", correct: false },
                    { text: "–°–µ—Ç–∫—É (1 –∫–ª–µ—Ç–∫–∞ = 1 –µ–¥–∏–Ω–∏—Ü–∞)", correct: true },
                    { text: "–°–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏", correct: false }
                ],
                explanation: "–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ç–∫–∞ –≤ –ö—É–º–∏—Ä–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞. –ù—É–∂–Ω–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –º–∞—Å—à—Ç–∞–± 1:1."
            },
            {
                question: "–ö–∞–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Python –¥–ª—è —Ä–µ—à–µ–Ω–∏—è 6 –∑–∞–¥–∞–Ω–∏—è?",
                options: [
                    { text: "pygame", correct: false },
                    { text: "turtle", correct: true },
                    { text: "math", correct: false }
                ],
                explanation: "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ turtle (–ß–µ—Ä–µ–ø–∞—Ö–∞) —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–ª—è —Ç–∞–∫–∏—Ö –∑–∞–¥–∞—á."
            },
            {
                question: "–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ tracer(0) –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ Python turtle?",
                options: [
                    { text: "–ó–∞–º–µ–¥–ª—è–µ—Ç —Ä–∏—Å–æ–≤–∞–Ω–∏–µ", correct: false },
                    { text: "–û—Ç–∫–ª—é—á–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é (–º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞)", correct: true },
                    { text: "–ú–µ–Ω—è–µ—Ç —Ü–≤–µ—Ç –ª–∏–Ω–∏–∏", correct: false }
                ],
                explanation: "tracer(0) –æ—Ç–∫–ª—é—á–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–ª–æ–∂–Ω–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è."
            },
            {
                question: "–î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (k) –ø—Ä–∏ —Ä–µ—à–µ–Ω–∏–∏ –Ω–∞ Python?",
                options: [
                    { text: "–ß—Ç–æ–±—ã —Ñ–∏–≥—É—Ä–∞ –±—ã–ª–∞ –≤–∏–¥–Ω–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ", correct: true },
                    { text: "–ß—Ç–æ–±—ã —É—Å–∫–æ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—ã", correct: false },
                    { text: "–≠—Ç–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ Python", correct: false }
                ],
                explanation: "1 –ø–∏–∫—Å–µ–ª—å —Å–ª–∏—à–∫–æ–º –º–∞–ª. –ú—ã —É–º–Ω–æ–∂–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞ k (–Ω–∞–ø—Ä–∏–º–µ—Ä, 20-30), —á—Ç–æ–±—ã —Ñ–∏–≥—É—Ä–∞ –±—ã–ª–∞ —Ä–∞–∑–ª–∏—á–∏–º–∞."
            },
            {
                question: "–ö–∞–∫—É—é –∫–æ–º–∞–Ω–¥—É –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å, —á—Ç–æ–±—ã –ß–µ—Ä–µ–ø–∞—Ö–∞ –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–∞—Å—å, –Ω–µ –æ—Å—Ç–∞–≤–ª—è—è —Å–ª–µ–¥ (Python)?",
                options: [
                    { text: "pd() / down()", correct: false },
                    { text: "pu() / up()", correct: true },
                    { text: "goto()", correct: false }
                ],
                explanation: "pu() –∏–ª–∏ up() –ø–æ–¥–Ω–∏–º–∞–µ—Ç –ø–µ—Ä–æ (Pen Up), –ø–æ—Å–ª–µ —á–µ–≥–æ —á–µ—Ä–µ–ø–∞—Ö–∞ –¥–≤–∏–∂–µ—Ç—Å—è –±–µ–∑ —Å–ª–µ–¥–∞."
            },
            {
                question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Ç–µ—Ä–º–∏–Ω ¬´—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞¬ª?",
                options: [
                    { text: "–¢–æ—á–∫–∞, –≥–¥–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã - —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞", correct: true },
                    { text: "–¢–æ—á–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ª–∏–Ω–∏–π —Ñ–∏–≥—É—Ä—ã", correct: false },
                    { text: "–õ—é–±–∞—è —Ç–æ—á–∫–∞ –≤–Ω—É—Ç—Ä–∏ —Ñ–∏–≥—É—Ä—ã", correct: false }
                ],
                explanation: "–≠—Ç–æ —Ç–æ—á–∫–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ª–∏–Ω–∏–π —Å–µ—Ç–∫–∏, –≥–¥–µ X –∏ Y - —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞."
            },
            {
                question: "–ö–∞–∫ –≤ –ö—É–º–∏—Ä–µ –∑–∞–ø–∏—Å–∞—Ç—å —Ü–∏–∫–ª ¬´–ü–æ–≤—Ç–æ—Ä–∏ 5 —Ä–∞–∑¬ª?",
                options: [
                    { text: "–Ω—Ü 5 —Ä–∞–∑ ... –∫—Ü", correct: true },
                    { text: "for i in range(5):", correct: false },
                    { text: "repeat 5:", correct: false }
                ],
                explanation: "–°–∏–Ω—Ç–∞–∫—Å–∏—Å –ö—É–º–∏—Ä–∞: –Ω—Ü (–Ω–∞—á–∞–ª–æ —Ü–∏–∫–ª–∞) <–∫–æ–ª-–≤–æ> —Ä–∞–∑ ... –∫—Ü (–∫–æ–Ω–µ—Ü —Ü–∏–∫–ª–∞)."
            },
            {
                question: "–í –∫–∞–∫—É—é —Å—Ç–æ—Ä–æ–Ω—É –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–º–æ—Ç—Ä–∏—Ç –ß–µ—Ä–µ–ø–∞—Ö–∞ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ Python turtle?",
                options: [
                    { text: "–í–≤–µ—Ä—Ö (–°–µ–≤–µ—Ä)", correct: false },
                    { text: "–í–ø—Ä–∞–≤–æ (–í–æ—Å—Ç–æ–∫)", correct: true },
                    { text: "–í–Ω–∏–∑ (–Æ–≥)", correct: false }
                ],
                explanation: "–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ turtle 0 –≥—Ä–∞–¥—É—Å–æ–≤ - —ç—Ç–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–ø—Ä–∞–≤–æ (–í–æ—Å—Ç–æ–∫)."
            },
            {
                question: "–ï—Å–ª–∏ –ß–µ—Ä–µ–ø–∞—Ö–∞ —Å–º–æ—Ç—Ä–∏—Ç –≤–≤–µ—Ä—Ö (90 –≥—Ä–∞–¥—É—Å–æ–≤) –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ right(90), –∫—É–¥–∞ –æ–Ω–∞ –±—É–¥–µ—Ç —Å–º–æ—Ç—Ä–µ—Ç—å?",
                options: [
                    { text: "–í–ª–µ–≤–æ", correct: false },
                    { text: "–í–Ω–∏–∑", correct: false },
                    { text: "–í–ø—Ä–∞–≤–æ", correct: true }
                ],
                explanation: "–ü–æ–≤–æ—Ä–æ—Ç –Ω–∞ 90 –≥—Ä–∞–¥—É—Å–æ–≤ –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ –æ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è '–í–≤–µ—Ä—Ö' –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é '–í–ø—Ä–∞–≤–æ'."
            },
            {
                question: "–ö–∞–∫–æ–π –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –º–µ—Ç–æ–¥–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Å—á–µ—Ç–∞ (–∏ –≤ –ö—É–º–∏—Ä–µ, –∏ –≤ Python)?",
                options: [
                    { text: "–ù—É–∂–µ–Ω –º–æ—â–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä", correct: false },
                    { text: "–°–ª–æ–∂–Ω—ã–π –∫–æ–¥", correct: false },
                    { text: "–†–∏—Å–∫ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø–æ–¥—Å—á–µ—Ç–µ (—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä)", correct: true }
                ],
                explanation: "–ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–æ—á–∫—É –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å –≥—Ä–∞–Ω–∏—á–Ω—É—é —Ç–æ—á–∫—É –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ."
            },
            {
                question: "–ö–∞–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –ß–µ—Ä–µ–ø–∞—Ö–∞ –≤ –ö—É–º–∏—Ä–µ?",
                options: [
                    { text: "import turtle", correct: false },
                    { text: "–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ß–µ—Ä–µ–ø–∞—Ö–∞", correct: true },
                    { text: "–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –†–æ–±–æ—Ç", correct: false }
                ],
                explanation: "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤—Å—Ç–∞–≤–∫–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è: '–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ß–µ—Ä–µ–ø–∞—Ö–∞'."
            },
            {
                question: "–ö–∞–∫–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ø–∞–¥–∞–Ω–∏—è —Ç–æ—á–∫–∏ –≤ –º–Ω–æ–≥–æ—É–≥–æ–ª—å–Ω–∏–∫?",
                options: [
                    { text: "–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø—É–∑—ã—Ä—å–∫–æ–º", correct: false },
                    { text: "–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –ª—É—á–∞ (Ray Casting)", correct: true },
                    { text: "–ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫", correct: false }
                ],
                explanation: "–ú–µ—Ç–æ–¥ –ª—É—á–∞: –≤—ã–ø—É—Å–∫–∞–µ–º –ª—É—á –∏–∑ —Ç–æ—á–∫–∏ –∏ —Å—á–∏—Ç–∞–µ–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —Å –≥—Ä–∞–Ω—è–º–∏ —Ñ–∏–≥—É—Ä—ã."
            },
            {
                question: "–ß—Ç–æ –≤–µ—Ä–Ω–µ—Ç turtle.pos()?",
                options: [
                    { text: "–¢–µ–∫—É—â–∏–π —É–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞", correct: false },
                    { text: "–¢–µ–∫—É—â–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (x, y)", correct: true },
                    { text: "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö —à–∞–≥–æ–≤", correct: false }
                ],
                explanation: "pos() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é —á–µ—Ä–µ–ø–∞—Ö–∏ –≤ –≤–∏–¥–µ –≤–µ–∫—Ç–æ—Ä–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç."
            }
        ];

        // --- COMPONENTS ---

        const Navigation = ({ activeTab, setActiveTab }) => (
            <nav className="bg-white shadow-md sticky top-0 z-50">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="flex justify-between h-16">
                        <div className="flex items-center">
                            <span className="text-xl font-bold text-indigo-600 mr-2">üê¢</span>
                            <span className="font-bold text-gray-800 text-lg hidden sm:block">–ó–∞–¥–∞–Ω–∏–µ –ï–ì–≠ ‚Ññ6</span>
                        </div>
                        <div className="flex space-x-4 items-center overflow-x-auto">
                            {[
                                { id: 'theory', label: '–û–±—â–µ–µ', icon: IconBook },
                                { id: 'detailed', label: '–ü–æ–¥—Ä–æ–±–Ω–æ', icon: IconFileText },
                                { id: 'simulation', label: '–°–∏–º—É–ª—è—Ç–æ—Ä', icon: IconCode },
                                { id: 'quiz', label: '–¢–µ—Å—Ç', icon: IconCheck },
                            ].map((item) => (
                                <button
                                    key={item.id}
                                    onClick={() => setActiveTab(item.id)}
                                    className={`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${
                                        activeTab === item.id 
                                        ? 'bg-indigo-100 text-indigo-700' 
                                        : 'text-gray-600 hover:bg-gray-100'
                                    }`}
                                >
                                    <span className="mr-2"><item.icon /></span>
                                    {item.label}
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            </nav>
        );

        const Hero = () => (
            <div className="bg-indigo-700 text-white py-12 px-4 mb-8">
                <div className="max-w-4xl mx-auto text-center">
                    <h1 className="text-3xl md:text-5xl font-bold mb-4">–°–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤ —Ä–µ—à–µ–Ω–∏—è –ó–∞–¥–∞–Ω–∏—è 6 –ï–ì–≠</h1>
                    <p className="text-indigo-200 text-lg mb-6">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∏ —Ç—Ä–µ–Ω–∞–∂–µ—Ä: –ö—É–º–∏—Ä, Python –∏ —Ä—É—á–Ω–æ–π —Å—á–µ—Ç</p>
                    <div className="inline-flex items-center bg-indigo-800 rounded-full px-4 py-1 text-sm">
                        <span className="w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"></span>
                        –ê–≤—Ç–æ—Ä: –õ–µ–±–µ–¥–µ–≤ –ê–Ω–¥—Ä–µ–π, 10–ê
                    </div>
                </div>
            </div>
        );

        const DetailedSection = () => {
            const [method, setMethod] = useState('graphic');
            const [copyStatus, setCopyStatus] = useState(false);

            const copyCode = () => {
                const code = `import turtle as t

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–∫—Ä–∞–Ω–∞
t.speed(0)
t.tracer(0)
k = 20  # –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º–∞—Å—à—Ç–∞–±–∞ (1 –µ–¥ = 20 –ø–∏–∫—Å–µ–ª–µ–π)

# 1. –†–∏—Å—É–µ–º —Ñ–∏–≥—É—Ä—É
t.left(90) # –ü–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –≥–æ–ª–æ–≤—É –≤–≤–µ—Ä—Ö (–≤–¥–æ–ª—å –æ—Å–∏ Y)
t.pd()     # –û–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–æ (Pen Down)

# –ü—Ä–∏–º–µ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞: –ü–æ–≤—Ç–æ—Ä–∏ 4 [–í–ø–µ—Ä–µ–¥ 10 –ù–∞–ø—Ä–∞–≤–æ 90]
for _ in range(4):
    t.forward(10 * k)
    t.right(90)

t.pu() # –ü–æ–¥–Ω–∏–º–∞–µ–º –ø–µ—Ä–æ (Pen Up)

# 2. –†–∏—Å—É–µ–º —Å–µ—Ç–∫—É —Ç–æ—á–µ–∫ –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞
# –î–∏–∞–ø–∞–∑–æ–Ω –ø–æ–¥–±–∏—Ä–∞–µ–º —Ç–∞–∫, —á—Ç–æ–±—ã –ø–µ—Ä–µ–∫—Ä—ã—Ç—å —Ñ–∏–≥—É—Ä—É
for x in range(-5, 15):
    for y in range(-5, 15):
        t.goto(x * k, y * k)
        t.dot(3, 'red')

t.update() # –û–±–Ω–æ–≤–ª—è–µ–º —ç–∫—Ä–∞–Ω
t.done()`;
                navigator.clipboard.writeText(code);
                setCopyStatus(true);
                setTimeout(() => setCopyStatus(false), 2000);
            };

            const copyKumir = () => {
                const code = `–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ß–µ—Ä–µ–ø–∞—Ö–∞
–∞–ª–≥
–Ω–∞—á
  –æ–ø—É—Å—Ç–∏—Ç—å —Ö–≤–æ—Å—Ç
  –Ω—Ü 4 —Ä–∞–∑
    –≤–ø–µ—Ä–µ–¥(10)
    –≤–ø—Ä–∞–≤–æ(90)
  –∫—Ü
–∫–æ–Ω`;
                navigator.clipboard.writeText(code);
                setCopyStatus(true);
                setTimeout(() => setCopyStatus(false), 2000);
            };

            return (
                <div className="max-w-5xl mx-auto px-4 animate-fade-in pb-12">
                    <div className="text-center mb-8">
                        <h2 className="text-2xl font-bold text-gray-800 mb-4">–ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤</h2>
                        <div className="inline-flex bg-white rounded-lg shadow-sm p-1 border border-gray-200">
                            {[
                                { id: 'graphic', label: '–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π' },
                                { id: 'kumir', label: '–ö—É–º–∏—Ä' },
                                { id: 'program', label: 'Python' }
                            ].map((m) => (
                                <button
                                    key={m.id}
                                    onClick={() => setMethod(m.id)}
                                    className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${
                                        method === m.id
                                            ? 'bg-indigo-600 text-white shadow-sm'
                                            : 'text-gray-600 hover:bg-gray-50'
                                    }`}
                                >
                                    {m.label}
                                </button>
                            ))}
                        </div>
                    </div>

                    <div className="bg-white rounded-xl shadow-lg p-6 md:p-8">
                        {method === 'graphic' && (
                            <div className="space-y-6 animate-fade-in">
                                <h3 className="text-xl font-bold text-gray-900 border-b pb-2">–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π (–†—É—á–Ω–æ–π) –º–µ—Ç–æ–¥</h3>
                                <p className="text-gray-600">
                                    –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –ø–µ—Ä–≤—ã–π —Å–ø–æ—Å–æ–±. –ó–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –Ω–∞ –∫–ª–µ—Ç—á–∞—Ç–æ–π –±—É–º–∞–≥–µ.
                                </p>
                                
                                <div className="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500">
                                    <h4 className="font-bold text-blue-800 mb-2">–ê–ª–≥–æ—Ä–∏—Ç–º –¥–µ–π—Å—Ç–≤–∏–π:</h4>
                                    <ol className="list-decimal list-inside space-y-2 text-gray-700">
                                        <li>–í–æ–∑—å–º–∏—Ç–µ –ª–∏—Å—Ç –∫–ª–µ—Ç—á–∞—Ç–æ–π –±—É–º–∞–≥–∏ (–ª—É—á—à–µ –≤—Å–µ–≥–æ —Å –∫–ª–µ—Ç–∫–æ–π 5—Ö5 –º–º).</li>
                                        <li>–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞—á–∞–ª–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ –º–∞—Å—à—Ç–∞–±. –û–±—ã—á–Ω–æ <strong>1 –∫–ª–µ—Ç–∫–∞ = 1 –µ–¥–∏–Ω–∏—Ü–∞ –¥–ª–∏–Ω—ã</strong>.</li>
                                        <li>–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã (—Ä–∏—Å—É–π—Ç–µ –ª–∏–Ω–∏–∏ –∫–∞—Ä–∞–Ω–¥–∞—à–æ–º), —Å–ª–µ–¥—É—è –∞–ª–≥–æ—Ä–∏—Ç–º—É –∑–∞–¥–∞—á–∏.</li>
                                        <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∏–≥—É—Ä–∞ –∑–∞–º–∫–Ω—É–ª–∞—Å—å.</li>
                                        <li>–í—Ä—É—á–Ω—É—é –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∏–π –∫–ª–µ—Ç–æ–∫ (—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ç–æ—á–µ–∫), –ø–æ–ø–∞–≤—à–∏—Ö <strong>–≤–Ω—É—Ç—Ä—å</strong> –∫–æ–Ω—Ç—É—Ä–∞.</li>
                                    </ol>
                                </div>
                                
                                <div className="grid md:grid-cols-2 gap-4">
                                    <div className="bg-gray-50 p-4 rounded-lg">
                                        <h4 className="font-bold text-green-700 mb-1">–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å:</h4>
                                        <p className="text-sm text-gray-600">–ß–∏—Å–ª–∞ –≤ –∑–∞–¥–∞—á–µ –º–∞–ª–µ–Ω—å–∫–∏–µ (–¥–æ 15-20), —É–≥–ª—ã —Ç–æ–ª—å–∫–æ –ø—Ä—è–º—ã–µ (90 –≥—Ä–∞–¥—É—Å–æ–≤). –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.</p>
                                    </div>
                                    <div className="bg-gray-50 p-4 rounded-lg">
                                        <h4 className="font-bold text-red-700 mb-1">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</h4>
                                        <p className="text-sm text-gray-600">–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö —á–∏—Å–ª–∞—Ö ("–í–ø–µ—Ä–µ–¥ 100") –∏–ª–∏ —Å–ª–æ–∂–Ω—ã—Ö —É–≥–ª–∞—Ö (45, 30, 60 –≥—Ä–∞–¥—É—Å–æ–≤).</p>
                                    </div>
                                </div>
                            </div>
                        )}

                        {method === 'kumir' && (
                            <div className="space-y-6 animate-fade-in">
                                <h3 className="text-xl font-bold text-gray-900 border-b pb-2">–°—Ä–µ–¥–∞ –ö–£–ú–ò–† (–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –ß–µ—Ä–µ–ø–∞—Ö–∞)</h3>
                                <p className="text-gray-600">
                                    –ö—É–º–∏—Ä ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –¥–ª—è –æ–±—É—á–µ–Ω–∏—è. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å ¬´–ß–µ—Ä–µ–ø–∞—Ö–∞¬ª –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∏–≥—É—Ä—É –∏ –ø–æ—Å—á–∏—Ç–∞—Ç—å —Ç–æ—á–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Å–µ—Ç–∫—É.
                                </p>

                                <div className="bg-indigo-50 p-4 rounded-lg border-l-4 border-indigo-500">
                                    <h4 className="font-bold text-indigo-800 mb-2">–ê–ª–≥–æ—Ä–∏—Ç–º –¥–µ–π—Å—Ç–≤–∏–π:</h4>
                                    <ol className="list-decimal list-inside space-y-2 text-gray-700">
                                        <li>–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å—Ä–µ–¥—É –ö—É–º–∏—Ä –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –º–µ–Ω—é <strong>¬´–í—Å—Ç–∞–≤–∫–∞¬ª -> ¬´–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ß–µ—Ä–µ–ø–∞—Ö–∞¬ª</strong>.</li>
                                        <li>–ù–∞–ø–∏—à–∏—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º, –∏—Å–ø–æ–ª—å–∑—É—è —Ä—É—Å—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã (<code>–≤–ø–µ—Ä–µ–¥</code>, <code>–≤–ø—Ä–∞–≤–æ</code>, <code>–Ω—Ü/–∫—Ü</code>).</li>
                                        <li>–ù–µ –∑–∞–±—É–¥—å—Ç–µ –∫–æ–º–∞–Ω–¥—É <code>–æ–ø—É—Å—Ç–∏—Ç—å —Ö–≤–æ—Å—Ç</code> –≤ –Ω–∞—á–∞–ª–µ —Ä–∏—Å–æ–≤–∞–Ω–∏—è.</li>
                                        <li>–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É (F9).</li>
                                        <li><strong>–í–∞–∂–Ω–æ:</strong> –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ç–∫—É. –ö–æ–ª–µ—Å–∏–∫–æ–º –º—ã—à–∏ –ø—Ä–∏–±–ª–∏–∑—å—Ç–µ —Ä–∏—Å—É–Ω–æ–∫ —Ç–∞–∫, —á—Ç–æ–±—ã —à–∞–≥ —Å–µ—Ç–∫–∏ –±—ã–ª —Ä–∞–≤–µ–Ω 1.</li>
                                        <li>–ü–æ—Å—á–∏—Ç–∞–π—Ç–µ —Ç–æ—á–∫–∏ (–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ª–∏–Ω–∏–π —Å–µ—Ç–∫–∏) –≤–Ω—É—Ç—Ä–∏ —Ñ–∏–≥—É—Ä—ã –≤–∏–∑—É–∞–ª—å–Ω–æ.</li>
                                    </ol>
                                </div>

                                <div className="relative">
                                    <div className="flex justify-between items-center mb-2">
                                        <h4 className="font-bold text-gray-700">–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ (–ö—É–º–∏—Ä):</h4>
                                        <button 
                                            onClick={copyKumir}
                                            className="flex items-center text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded transition"
                                        >
                                            <IconCopy className="mr-1"/> {copyStatus ? '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!' : '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å'}
                                        </button>
                                    </div>
                                    <pre className="bg-gray-800 text-yellow-300 p-4 rounded-xl overflow-x-auto text-sm font-mono leading-relaxed shadow-inner">
{`–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ß–µ—Ä–µ–ø–∞—Ö–∞
–∞–ª–≥
–Ω–∞—á
  –æ–ø—É—Å—Ç–∏—Ç—å —Ö–≤–æ—Å—Ç
  
  | –ü—Ä–∏–º–µ—Ä —Ü–∏–∫–ª–∞: –ü–æ–≤—Ç–æ—Ä–∏ 4 —Ä–∞–∑–∞
  –Ω—Ü 4 —Ä–∞–∑
    –≤–ø–µ—Ä–µ–¥(10)
    –≤–ø—Ä–∞–≤–æ(90)
  –∫—Ü
  
  –ø–æ–¥–Ω—è—Ç—å —Ö–≤–æ—Å—Ç
–∫–æ–Ω`}
                                    </pre>
                                </div>
                                <div className="text-sm text-gray-500 italic mt-2">
                                    * –í –ö—É–º–∏—Ä–µ –æ—Å—å Y –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–≤–µ—Ä—Ö, –∞ 0 –≥—Ä–∞–¥—É—Å–æ–≤ –æ–±—ã—á–Ω–æ —Å–º–æ—Ç—Ä–∏—Ç –≤–ø—Ä–∞–≤–æ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫, –Ω–æ —á–∞—â–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –º–∞—Ç. –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏).
                                </div>
                            </div>
                        )}

                        {method === 'program' && (
                            <div className="space-y-6 animate-fade-in">
                                <h3 className="text-xl font-bold text-gray-900 border-b pb-2">–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –º–µ—Ç–æ–¥ (Python)</h3>
                                <p className="text-gray-600">
                                    –ù–∞–∏–±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –ö–ï–ì–≠. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É <code>turtle</code> –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Ñ–∏–≥—É—Ä—ã –∏ —Å–µ—Ç–∫–∏ —Ç–æ—á–µ–∫.
                                </p>

                                <div className="bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500">
                                    <h4 className="font-bold text-purple-800 mb-2">–ê–ª–≥–æ—Ä–∏—Ç–º –¥–µ–π—Å—Ç–≤–∏–π:</h4>
                                    <ol className="list-decimal list-inside space-y-2 text-gray-700">
                                        <li>–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É <code>turtle</code>.</li>
                                        <li>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–∞—Å—à—Ç–∞–± <code>k</code> (–æ–±—ã—á–Ω–æ 20-30), —á—Ç–æ–±—ã 1 –µ–¥–∏–Ω–∏—Ü–∞ –±—ã–ª–∞ –≤–∏–¥–Ω–∞ –∫–∞–∫ 20-30 –ø–∏–∫—Å–µ–ª–µ–π.</li>
                                        <li>–ü–µ—Ä–µ–ø–∏—à–∏—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º –∑–∞–¥–∞—á–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ Python (<code>forward</code>, <code>left/right</code>), —É–º–Ω–æ–∂–∞—è —à–∞–≥–∏ –Ω–∞ <code>k</code>.</li>
                                        <li>–ü–æ–≤–µ—Ä—Ö —Ñ–∏–≥—É—Ä—ã –Ω–∞—Ä–∏—Å—É–π—Ç–µ —Å–µ—Ç–∫—É —Ç–æ—á–µ–∫ (<code>dot</code>) —Å —à–∞–≥–æ–º <code>k</code>.</li>
                                        <li>–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ —Ç–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç—É—Ä–∞.</li>
                                    </ol>
                                </div>

                                <div className="relative">
                                    <div className="flex justify-between items-center mb-2">
                                        <h4 className="font-bold text-gray-700">–®–∞–±–ª–æ–Ω –∫–æ–¥–∞:</h4>
                                        <button 
                                            onClick={copyCode}
                                            className="flex items-center text-xs bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded transition"
                                        >
                                            <IconCopy className="mr-1"/> {copyStatus ? '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!' : '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å'}
                                        </button>
                                    </div>
                                    <pre className="bg-gray-900 text-green-400 p-4 rounded-xl overflow-x-auto text-sm font-mono leading-relaxed shadow-inner">
{`import turtle as t

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞
t.speed(0)
t.tracer(0)
k = 20  # –ú–∞—Å—à—Ç–∞–±

# 1. –†–∏—Å–æ–≤–∞–Ω–∏–µ —Ñ–∏–≥—É—Ä—ã
t.left(90) 
t.pd()

# --- –í–°–¢–ê–í–ò–¢–¨ –ö–û–ú–ê–ù–î–´ –ò–ó –ó–ê–î–ê–ß–ò ---
# –ü—Ä–∏–º–µ—Ä: –ü–æ–≤—Ç–æ—Ä–∏ 4 [–í–ø–µ—Ä–µ–¥ 10 –ù–∞–ø—Ä–∞–≤–æ 90]
for _ in range(4):
    t.forward(10 * k)
    t.right(90)
# ----------------------------------

t.pu()

# 2. –°–µ—Ç–∫–∞ —Ç–æ—á–µ–∫
# –ü–æ–¥–±–µ—Ä–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω, —á—Ç–æ–±—ã –ø–æ–∫—Ä—ã—Ç—å —Ñ–∏–≥—É—Ä—É
for x in range(-10, 20):
    for y in range(-10, 20):
        t.goto(x * k, y * k)
        t.dot(3, 'red')

t.update()
t.done()`}
                                    </pre>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const TheorySection = () => (
            <div className="max-w-6xl mx-auto px-4 animate-fade-in">
                <div className="grid md:grid-cols-3 gap-6 mb-12">
                    {theoryData.map((item) => (
                        <div key={item.id} className="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-t-4 border-indigo-500">
                            <h3 className="text-xl font-bold text-gray-800 mb-3">{item.title}</h3>
                            <p className="text-gray-600 mb-4 text-sm min-h-[40px]">{item.desc}</p>
                            
                            <div className="space-y-3">
                                <div>
                                    <h4 className="text-xs font-bold uppercase text-green-600 tracking-wider mb-1">–ü–ª—é—Å—ã:</h4>
                                    <ul className="list-disc list-inside text-xs text-gray-600 space-y-1">
                                        {item.pros.map((p, i) => <li key={i}>{p}</li>)}
                                    </ul>
                                </div>
                                <div>
                                    <h4 className="text-xs font-bold uppercase text-red-600 tracking-wider mb-1">–ú–∏–Ω—É—Å—ã:</h4>
                                    <ul className="list-disc list-inside text-xs text-gray-600 space-y-1">
                                        {item.cons.map((c, i) => <li key={i}>{c}</li>)}
                                    </ul>
                                </div>
                            </div>
                            
                            <div className="mt-4 pt-4 border-t border-gray-100">
                                <span className="text-xs font-semibold text-indigo-600 bg-indigo-50 px-2 py-1 rounded">
                                    {item.usage}
                                </span>
                            </div>
                        </div>
                    ))}
                </div>

                {/* Comparison Table */}
                <div className="bg-white rounded-xl shadow-lg overflow-hidden mb-12">
                    <div className="bg-gray-800 px-6 py-4">
                        <h3 className="text-white font-bold text-lg">–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑</h3>
                    </div>
                    <div className="overflow-x-auto">
                        <table className="w-full text-sm text-left text-gray-600">
                            <thead className="text-xs text-gray-700 uppercase bg-gray-50 border-b">
                                <tr>
                                    <th className="px-6 py-3">–ö—Ä–∏—Ç–µ—Ä–∏–π</th>
                                    <th className="px-6 py-3">–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π</th>
                                    <th className="px-6 py-3">–ö—É–º–∏—Ä</th>
                                    <th className="px-6 py-3">Python</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr className="bg-white border-b hover:bg-gray-50">
                                    <td className="px-6 py-4 font-medium text-gray-900">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</td>
                                    <td className="px-6 py-4">–ë—É–º–∞–≥–∞, –∫–∞—Ä–∞–Ω–¥–∞—à</td>
                                    <td className="px-6 py-4">–°—Ä–µ–¥–∞ –ö—É–º–∏—Ä</td>
                                    <td className="px-6 py-4">Python + Turtle</td>
                                </tr>
                                <tr className="bg-white border-b hover:bg-gray-50">
                                    <td className="px-6 py-4 font-medium text-gray-900">–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Å–≤–æ–µ–Ω–∏—è</td>
                                    <td className="px-6 py-4 text-green-600">–û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è</td>
                                    <td className="px-6 py-4 text-green-600">–ù–∏–∑–∫–∞—è (–†–£–°)</td>
                                    <td className="px-6 py-4 text-yellow-600">–°—Ä–µ–¥–Ω—è—è (ENG)</td>
                                </tr>
                                <tr className="bg-white border-b hover:bg-gray-50">
                                    <td className="px-6 py-4 font-medium text-gray-900">–ù–∞–≥–ª—è–¥–Ω–æ—Å—Ç—å</td>
                                    <td className="px-6 py-4 text-yellow-600">–°—Ä–µ–¥–Ω—è—è</td>
                                    <td className="px-6 py-4 text-green-600">–í—ã—Å–æ–∫–∞—è</td>
                                    <td className="px-6 py-4 text-green-600">–í—ã—Å–æ–∫–∞—è</td>
                                </tr>
                                <tr className="bg-white hover:bg-gray-50">
                                    <td className="px-6 py-4 font-medium text-gray-900">–°–ª–æ–∂–Ω—ã–µ —É–≥–ª—ã</td>
                                    <td className="px-6 py-4 text-red-500">–ü–ª–æ—Ö–æ</td>
                                    <td className="px-6 py-4 text-green-600">–û—Ç–ª–∏—á–Ω–æ</td>
                                    <td className="px-6 py-4 text-green-600">–û—Ç–ª–∏—á–Ω–æ</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        );

        const AnswersModal = ({ isOpen, onClose, data }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center modal-overlay p-4">
                    <div className="bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col animate-fade-in">
                        <div className="flex justify-between items-center p-6 border-b">
                            <h3 className="text-xl font-bold text-gray-800">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã</h3>
                            <button onClick={onClose} className="text-gray-500 hover:text-gray-700">
                                <IconX />
                            </button>
                        </div>
                        <div className="overflow-y-auto p-6 space-y-6">
                            {data.map((q, idx) => (
                                <div key={idx} className="border-b border-gray-100 last:border-0 pb-4 last:pb-0">
                                    <div className="flex gap-3">
                                        <span className="font-bold text-indigo-600">{idx + 1}.</span>
                                        <div>
                                            <p className="font-medium text-gray-900 mb-2">{q.question}</p>
                                            <div className="text-sm bg-green-50 text-green-800 px-3 py-2 rounded-lg border border-green-100">
                                                <span className="font-bold">–û—Ç–≤–µ—Ç: </span>
                                                {q.options.find(o => o.correct)?.text}
                                            </div>
                                            <p className="text-xs text-gray-500 mt-1 italic">{q.explanation}</p>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                        <div className="p-4 border-t bg-gray-50 rounded-b-xl flex justify-end">
                            <button 
                                onClick={onClose}
                                className="bg-gray-800 text-white px-6 py-2 rounded-lg text-sm hover:bg-gray-900 transition"
                            >
                                –ó–∞–∫—Ä—ã—Ç—å
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const QuizSection = () => {
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [score, setScore] = useState(0);
            const [showResult, setShowResult] = useState(false);
            const [selectedOption, setSelectedOption] = useState(null);
            const [isCorrect, setIsCorrect] = useState(null);
            const [showAnswersModal, setShowAnswersModal] = useState(false);

            const handleAnswer = (correct) => {
                if (selectedOption !== null) return;
                
                if (correct) setScore(score + 1);
                setIsCorrect(correct);
                setSelectedOption(true);
            };

            const nextQuestion = () => {
                setSelectedOption(null);
                setIsCorrect(null);
                if (currentQuestion < quizData.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                } else {
                    setShowResult(true);
                }
            };

            const resetQuiz = () => {
                setCurrentQuestion(0);
                setScore(0);
                setShowResult(false);
                setSelectedOption(null);
                setIsCorrect(null);
            };

            const getResultData = () => {
                const percentage = (score / quizData.length) * 100;
                let grade = "";
                let message = "";
                
                if (percentage >= 90) {
                    grade = "5";
                    message = "–ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ! –í—ã –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–∑–±–∏—Ä–∞–µ—Ç–µ—Å—å –≤ –º–∞—Ç–µ—Ä–∏–∞–ª–µ –∏ –≥–æ—Ç–æ–≤—ã –∫ –ï–ì–≠.";
                } else if (percentage >= 75) {
                    grade = "4";
                    message = "–•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –ù–æ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç –ø–æ–≤—Ç–æ—Ä–∏—Ç—å.";
                } else if (percentage >= 50) {
                    grade = "3";
                    message = "–ù–µ–ø–ª–æ—Ö–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ –∏–∑—É—á–∏—Ç—å —Ç–µ–æ—Ä–∏—é.";
                } else {
                    grade = "2";
                    message = "–í–∞–º –Ω—É–∂–Ω–æ —Å–µ—Ä—å–µ–∑–Ω–æ –ø–æ–¥—Ç—è–Ω—É—Ç—å —Ç–µ–º—É. –ò–∑—É—á–∏—Ç–µ —Ä–∞–∑–¥–µ–ª —Ç–µ–æ—Ä–∏–∏ –µ—â–µ —Ä–∞–∑.";
                }
                return { grade, message, percentage };
            };

            if (showResult) {
                const result = getResultData();
                return (
                    <div className="max-w-md mx-auto bg-white rounded-xl shadow-lg p-8 text-center animate-fade-in mt-10">
                        <AnswersModal 
                            isOpen={showAnswersModal} 
                            onClose={() => setShowAnswersModal(false)} 
                            data={quizData} 
                        />
                        
                        <div className="inline-block p-4 rounded-full bg-indigo-100 text-indigo-600 mb-4">
                            <IconAward className="w-8 h-8"/>
                        </div>
                        <h2 className="text-2xl font-bold text-gray-800 mb-2">–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!</h2>
                        
                        <div className="my-6">
                            <div className="text-sm text-gray-500 uppercase tracking-wide mb-1">–í–∞—à–∞ –æ—Ü–µ–Ω–∫–∞</div>
                            <div className={`text-5xl font-extrabold ${
                                result.grade === '5' ? 'text-green-600' : 
                                result.grade === '4' ? 'text-blue-600' :
                                result.grade === '3' ? 'text-yellow-500' : 'text-red-500'
                            }`}>
                                {result.grade}
                            </div>
                            <p className="text-gray-600 mt-2 font-medium">{score} –∏–∑ {quizData.length} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö</p>
                        </div>
                        
                        <p className="text-gray-600 mb-8 italic px-4">"{result.message}"</p>
                        
                        <div className="space-y-3">
                            <button 
                                onClick={() => setShowAnswersModal(true)}
                                className="w-full flex items-center justify-center bg-white border-2 border-indigo-600 text-indigo-600 py-3 rounded-lg hover:bg-indigo-50 transition font-semibold"
                            >
                                <IconList className="w-4 h-4 mr-2"/> –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç—ã
                            </button>
                            <button 
                                onClick={resetQuiz}
                                className="w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition font-semibold"
                            >
                                –ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ
                            </button>
                        </div>
                    </div>
                );
            }

            const q = quizData[currentQuestion];

            return (
                <div className="max-w-2xl mx-auto px-4 mt-8">
                    <div className="bg-white rounded-xl shadow-lg p-6 md:p-8">
                        <div className="flex justify-between items-center mb-6">
                            <span className="text-xs font-semibold text-gray-500 uppercase tracking-wide">–í–æ–ø—Ä–æ—Å {currentQuestion + 1} –∏–∑ {quizData.length}</span>
                            <span className="text-xs font-bold text-indigo-600">{Math.round(((currentQuestion) / quizData.length) * 100)}%</span>
                        </div>
                        
                        <div className="w-full bg-gray-200 h-1.5 rounded-full mb-6">
                            <div 
                                className="bg-indigo-600 h-1.5 rounded-full transition-all duration-300"
                                style={{ width: `${((currentQuestion) / quizData.length) * 100}%` }}
                            ></div>
                        </div>
                        
                        <h3 className="text-xl font-bold text-gray-800 mb-6 min-h-[60px]">{q.question}</h3>
                        
                        <div className="space-y-3">
                            {q.options.map((opt, idx) => (
                                <button
                                    key={idx}
                                    onClick={() => handleAnswer(opt.correct)}
                                    disabled={selectedOption !== null}
                                    className={`w-full text-left p-4 rounded-lg border-2 transition-all ${
                                        selectedOption !== null
                                            ? opt.correct 
                                                ? 'border-green-500 bg-green-50 text-green-700'
                                                : 'border-gray-200 text-gray-400'
                                            : 'border-gray-200 hover:border-indigo-500 hover:bg-indigo-50'
                                    }`}
                                >
                                    <div className="flex items-center">
                                        <div className={`w-5 h-5 rounded-full border mr-3 flex items-center justify-center flex-shrink-0 ${
                                            selectedOption !== null && opt.correct ? 'bg-green-500 border-green-500' : 'border-gray-300'
                                        }`}>
                                            {selectedOption !== null && opt.correct && <div className="w-2 h-2 bg-white rounded-full"></div>}
                                        </div>
                                        {opt.text}
                                    </div>
                                </button>
                            ))}
                        </div>

                        {selectedOption !== null && (
                            <div className={`mt-6 p-4 rounded-lg ${isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'} animate-fade-in`}>
                                <p className="font-bold mb-1">{isCorrect ? '–í–µ—Ä–Ω–æ!' : '–ù–µ–≤–µ—Ä–Ω–æ.'}</p>
                                <p className="text-sm">{q.explanation}</p>
                                <button 
                                    onClick={nextQuestion}
                                    className="mt-4 bg-gray-800 text-white px-6 py-2 rounded-lg text-sm hover:bg-gray-900 transition"
                                >
                                    {currentQuestion === quizData.length - 1 ? '–ó–∞–≤–µ—Ä—à–∏—Ç—å' : '–î–∞–ª–µ–µ'}
                                </button>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const SimulatorSection = () => {
            const canvasRef = useRef(null);
            const [code, setCode] = useState("–ü–æ–≤—Ç–æ—Ä–∏ 4 [\n  –í–ø–µ—Ä–µ–¥ 10\n  –ù–∞–ø—Ä–∞–≤–æ 90\n]");
            const [scale, setScale] = useState(20);
            const [resultText, setResultText] = useState("–ù–∞–∂–º–∏—Ç–µ '–ó–∞–ø—É—Å—Ç–∏—Ç—å' –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞.");
            const [pointsCount, setPointsCount] = useState(0);

            // Parsing and execution logic
            const runSimulation = () => {
                const canvas = canvasRef.current;
                const ctx = canvas.getContext('2d');
                const width = canvas.width;
                const height = canvas.height;
                const centerX = width / 2;
                const centerY = height / 2;

                // Reset Canvas
                ctx.clearRect(0, 0, width, height);
                
                // Draw Axis
                ctx.strokeStyle = '#e5e7eb';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(0, centerY); ctx.lineTo(width, centerY);
                ctx.moveTo(centerX, 0); ctx.lineTo(centerX, height);
                ctx.stroke();

                // Draw Grid dots
                ctx.fillStyle = '#cbd5e1';
                for(let x = 0; x < width; x += scale) {
                    for(let y = 0; y < height; y += scale) {
                        ctx.fillRect(x-1, y-1, 2, 2);
                    }
                }

                // Parse Code
                // Simplified parser for: –ü–æ–≤—Ç–æ—Ä–∏ N [ commands ] or linear commands
                // Commands: –í–ø–µ—Ä–µ–¥ (Forward), –ù–∞–ø—Ä–∞–≤–æ (Right), –ù–∞–ª–µ–≤–æ (Left)
                
                let commands = [];
                const cleanCode = code.toLowerCase().replace(/\s+/g, ' ');
                
                // Extremely basic parser logic for demonstration
                // 1. Check for Repeat loop
                const loopMatch = cleanCode.match(/–ø–æ–≤—Ç–æ—Ä–∏\s+(\d+)\s*\[(.*)\]/);
                
                let rawCmds = cleanCode;
                let iterations = 1;

                if (loopMatch) {
                    iterations = parseInt(loopMatch[1]);
                    rawCmds = loopMatch[2];
                }

                const tokens = rawCmds.split(' ').filter(t => t.length > 0);
                
                // Expand loop
                let finalTokens = [];
                for(let i=0; i<iterations; i++) {
                    finalTokens = [...finalTokens, ...tokens];
                }

                // Execution
                let x = 0; 
                let y = 0; 
                let angle = 90; // Up (Standard Math: 90 is up. Canvas Y is down, need conversion)
                
                let vertices = [{x: 0, y: 0}];

                ctx.beginPath();
                ctx.strokeStyle = '#4f46e5'; // Indigo 600
                ctx.lineWidth = 3;
                
                // Move to start (screen coords)
                ctx.moveTo(centerX + x * scale, centerY - y * scale);

                let i = 0;
                while(i < finalTokens.length) {
                    const cmd = finalTokens[i];
                    const val = parseFloat(finalTokens[i+1]);

                    if (cmd.includes('–≤–ø–µ—Ä–µ–¥') || cmd.includes('forward')) {
                        if(!isNaN(val)) {
                            // Math
                            const rad = angle * Math.PI / 180;
                            x += val * Math.cos(rad);
                            y += val * Math.sin(rad); // Math Y is up
                            
                            // Visual
                            ctx.lineTo(centerX + x * scale, centerY - y * scale);
                            vertices.push({x, y});
                            i += 2;
                        } else i++;
                    } else if (cmd.includes('–Ω–∞–ø—Ä–∞–≤–æ') || cmd.includes('right')) {
                         if(!isNaN(val)) {
                            angle -= val;
                            i += 2;
                        } else i++;
                    } else if (cmd.includes('–Ω–∞–ª–µ–≤–æ') || cmd.includes('left')) {
                         if(!isNaN(val)) {
                            angle += val;
                            i += 2;
                        } else i++;
                    } else {
                        i++;
                    }
                }
                
                ctx.stroke();
                
                // Close path for calculation logic visually
                ctx.closePath();
                ctx.fillStyle = 'rgba(79, 70, 229, 0.1)';
                ctx.fill();

                // Point Counting Logic (Bounding Box + Ray Casting)
                // Find Bounding Box
                let minX = Infinity, maxX = -Infinity, minY = Infinity, maxY = -Infinity;
                vertices.forEach(v => {
                    if (v.x < minX) minX = v.x;
                    if (v.x > maxX) maxX = v.x;
                    if (v.y < minY) minY = v.y;
                    if (v.y > maxY) maxY = v.y;
                });

                // Integer bounds
                const startX = Math.floor(minX);
                const endX = Math.ceil(maxX);
                const startY = Math.floor(minY);
                const endY = Math.ceil(maxY);

                let count = 0;
                const epsilon = 0.0001; // Tolerance for "on the line"

                // Ray Casting function
                const isInside = (px, py) => {
                    let inside = false;
                    for (let k = 0, j = vertices.length - 1; k < vertices.length; j = k++) {
                        const xi = vertices[k].x, yi = vertices[k].y;
                        const xj = vertices[j].x, yj = vertices[j].y;
                        
                        // Check if point is ON the edge (simplified)
                        // Distance check or cross product usually used. 
                        // For this demo, we count strict INSIDE. 
                        // Task 6 often implies integer points strictly inside or including borders.
                        // Standard interpretation: INSIDE the region.
                        
                        const intersect = ((yi > py) !== (yj > py))
                            && (px < (xj - xi) * (py - yi) / (yj - yi) + xi);
                        if (intersect) inside = !inside;
                    }
                    return inside;
                };

                // Draw Dots & Count
                for (let px = startX; px <= endX; px++) {
                    for (let py = startY; py <= endY; py++) {
                         if (isInside(px, py)) {
                             count++;
                             // Draw red dot
                             ctx.fillStyle = 'red';
                             ctx.beginPath();
                             // Remember to flip Y for canvas
                             ctx.arc(centerX + px * scale, centerY - py * scale, 3, 0, Math.PI * 2); 
                             ctx.fill();
                         }
                    }
                }

                setPointsCount(count);
                setResultText(`–§–∏–≥—É—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞. –ù–∞–π–¥–µ–Ω–æ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ç–æ—á–µ–∫ –≤–Ω—É—Ç—Ä–∏: ${count}`);
            };

            useEffect(() => {
                // Initial draw on mount (empty grid)
                const canvas = canvasRef.current;
                const ctx = canvas.getContext('2d');
                const width = canvas.width;
                const height = canvas.height;
                ctx.clearRect(0, 0, width, height);
                // Simple grid
                ctx.fillStyle = '#cbd5e1';
                for(let x = 0; x < width; x += scale) {
                    for(let y = 0; y < height; y += scale) {
                        ctx.fillRect(x-1, y-1, 2, 2);
                    }
                }
            }, []);

            return (
                <div className="max-w-6xl mx-auto px-4 mt-8 flex flex-col lg:flex-row gap-6 animate-fade-in">
                    {/* Controls */}
                    <div className="w-full lg:w-1/3 space-y-4">
                        <div className="bg-white p-6 rounded-xl shadow-lg">
                            <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center">
                                <IconCode /> <span className="ml-2">–ö–æ–¥ –∞–ª–≥–æ—Ä–∏—Ç–º–∞</span>
                            </h3>
                            <p className="text-xs text-gray-500 mb-2">
                                –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã: <code>–í–ø–µ—Ä–µ–¥ X</code>, <code>–ù–∞–ø—Ä–∞–≤–æ Y</code>, <code>–ù–∞–ª–µ–≤–æ Y</code>. <br/>
                                –¶–∏–∫–ª: <code>–ü–æ–≤—Ç–æ—Ä–∏ N [ ... ]</code>
                            </p>
                            <textarea 
                                value={code}
                                onChange={(e) => setCode(e.target.value)}
                                className="w-full h-40 p-3 bg-gray-900 text-green-400 font-mono text-sm rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 outline-none resize-none"
                            ></textarea>
                            
                            <div className="mt-4 flex gap-2">
                                <button 
                                    onClick={runSimulation}
                                    className="flex-1 bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition flex items-center justify-center font-semibold"
                                >
                                    <IconPlay /> <span className="ml-2">–ó–∞–ø—É—Å—Ç–∏—Ç—å</span>
                                </button>
                                <div className="flex items-center space-x-2 bg-gray-100 px-3 rounded-lg">
                                    <span className="text-xs text-gray-500">–ú–∞—Å—à—Ç–∞–±:</span>
                                    <input 
                                        type="number" 
                                        value={scale} 
                                        onChange={(e) => setScale(Number(e.target.value))}
                                        className="w-12 bg-transparent text-center font-bold outline-none" 
                                        min="5" max="50"
                                    />
                                </div>
                            </div>
                        </div>

                        {/* Result Panel */}
                        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-green-500">
                            <h3 className="text-gray-500 uppercase text-xs font-bold mb-1">–†–µ–∑—É–ª—å—Ç–∞—Ç</h3>
                            <div className="text-2xl font-bold text-gray-800">
                                {pointsCount} <span className="text-sm font-normal text-gray-500">—Ç–æ—á–µ–∫</span>
                            </div>
                            <p className="text-sm text-gray-600 mt-2">{resultText}</p>
                        </div>

                        <div className="bg-indigo-50 p-4 rounded-xl border border-indigo-100 text-sm text-indigo-800">
                            <p><strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –≠—Ç–æ—Ç —Å–∏–º—É–ª—è—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–æ–¥ "Ray Casting" –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–ø–∞–¥–∞–Ω–∏—è —Ç–æ—á–∫–∏ –≤ –º–Ω–æ–≥–æ—É–≥–æ–ª—å–Ω–∏–∫, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ç–æ–º—É, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º –º–µ—Ç–æ–¥–µ —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è ‚Ññ6.</p>
                        </div>
                    </div>

                    {/* Canvas */}
                    <div className="w-full lg:w-2/3 bg-white rounded-xl shadow-lg p-4 overflow-hidden flex items-center justify-center relative min-h-[500px]">
                         <canvas 
                            ref={canvasRef}
                            width={800}
                            height={600}
                            className="w-full h-full object-contain canvas-grid bg-white cursor-crosshair"
                        ></canvas>
                        <div className="absolute top-4 right-4 bg-white/80 px-2 py-1 rounded text-xs text-gray-500 pointer-events-none">
                            X: –í–ø—Ä–∞–≤–æ, Y: –í–≤–µ—Ä—Ö (–æ—Ç —Ü–µ–Ω—Ç—Ä–∞)
                        </div>
                    </div>
                </div>
            );
        };

        const Footer = () => (
             <footer className="bg-gray-800 text-gray-400 py-8 mt-12">
                <div className="max-w-6xl mx-auto px-4 text-center">
                    <p className="mb-2">–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö —à–∫–æ–ª—å–Ω–æ–≥–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞</p>
                    <p className="text-sm">2026</p>
                </div>
            </footer>
        );

        // --- MAIN APP ---
        const App = () => {
            const [activeTab, setActiveTab] = useState('theory');

            useEffect(() => {
                lucide.createIcons();
            }, [activeTab]);

            return (
                <div className="min-h-screen flex flex-col">
                    <Navigation activeTab={activeTab} setActiveTab={setActiveTab} />
                    <Hero />
                    
                    <main className="flex-grow">
                        {activeTab === 'theory' && <TheorySection />}
                        {activeTab === 'detailed' && <DetailedSection />}
                        {activeTab === 'quiz' && <QuizSection />}
                        {activeTab === 'simulation' && <SimulatorSection />}
                    </main>

                    <Footer />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
